---
title: "Strings"
author: "PLSC 31101"
date: "Fall 2019"
output: html_document
---

# Strings and Regular Expressions

This unit focuses on chracter (or "sting") data. We'll explore:

1. **[common string operations]**, like concatinating, subsetting, and replacing strings.
2. **[regular expressions]**, a powerful cross-language tool for working with string data.

## Common string operations

### Concatinating strings with `paste()`

Let's say we wanted to concatenate the following two strings into one larger character string:

```{r}
firstName <- "Johan"
lastName <- "Gambolputty"
```

Using the usual combine operator `c()` on two or more character strings will not create a single character string, but rather a **vector** of character strings. 

```{r}
firstName <- "Johan"
lastName <- "Gambolputty"

fullName <- c(firstName, lastName)
print(fullName)
length(fullName)
```

In order to combine two or more character strings into one larger character string requires using the `paste()` function.  This function takes character strings or vectors and collapses their values into a single character string, with each value separated by a character string selected by the user.

```{r}
firstName <- "Johan"
lastName <- "Gambolputty"

fullName <- paste(firstName, lastName)
print(fullName)

fullName <- paste(firstName, lastName, sep = "+")
print(fullName)

fullName <- paste(firstName, lastName, sep = "___")
print(fullName)
```

### Extracting substrings

R can also extract substrings based on the index position of its characters. Some things to note:

1. Index positions in R start at 1. This is in contrast to Python, where indexation starts at 0. 

2. Object subsets using index positions in R contain all the elements in the specified range.  If some object called `data` contains five elements, ```data[2:4]``` will return the elements at the second, third, and fourth positions. By contrast, the same subset in Python would return the objects at the third and fourth positions (or second and third positions, depending upon whether your index starts at 0 or 1).  

3. R does not allow index-based character string subsetting using the object name, as this functionality is generally reserved for vector subsetting.

```{r}
firstName <- "Johan"
lastName <- "Gambolputty"
fullName <- paste(firstName, lastName)

# This won't work
fullName[0]
fullName[1]
fullName[1:4]
```

Instead, you must use the ```substr()``` function.  Note that this function must receive both the ```start``` and ```stop``` arguments.  So if you want to get all the characters between some index and the end of the string, you must make use of the `nchar()` function, which will tell you the length of a character string.

```{r}
substr(x = fullName, start = 1, stop = 1)
substr(x = fullName, start = 5, stop = 5)
substr(x = fullName, start = 1, stop = 5)
substr(x = fullName, start = 6, stop = nchar(fullName))
substr(x = fullName, start = 6, stop = nchar(fullName)-2)
```

### Replace substrings with `gsub()`

The function `gsub()` replaces substrings in a larger string using a specified pattern.

```{r}
firstName <- "Johan"
lastName <- "Gambolputty"
fullName <- paste(firstName, lastName)

gsub(pattern = "G", replacement = "B", x = fullName)
gsub(pattern = "Johan", replacement = "Mike", x = fullName)
gsub(pattern = "johan", replacement = "Mike", x = fullName) # Note the importance of cases!
```

The same function is used for replacements and stripping:

```{r}
gsub(pattern = " ", replacement = "", x = fullName) 
```
