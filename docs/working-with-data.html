<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Working with Data | PLSC 31101: Introduction To Computational Tools And Techniques For Social Science</title>
  <meta name="description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Working with Data | PLSC 31101: Introduction To Computational Tools And Techniques For Social Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://rochelleterman.github.io/plsc-31101/" />
  
  <meta property="og:description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="github-repo" content="rochelleterman/plsc-31101" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Working with Data | PLSC 31101: Introduction To Computational Tools And Techniques For Social Science" />
  
  <meta name="twitter:description" content="This book contains course notes and other materials for PLSC 31101." />
  

<meta name="author" content="Rochelle Terman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="subsetting.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PLSC 31101</a></li>

<li class="divider"></li>
<li class="part"><span><b>I Before Class</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.1</b> Course Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#who-should-take-this-course"><i class="fa fa-check"></i><b>1.2</b> Who should take this course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#requirements-and-evaluation"><i class="fa fa-check"></i><b>1.3</b> Requirements and Evaluation</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#activities-and-materials"><i class="fa fa-check"></i><b>1.4</b> Activities and Materials</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#curriculum-outline-schedule"><i class="fa fa-check"></i><b>1.5</b> Curriculum Outline / Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#r"><i class="fa fa-check"></i><b>2.1</b> R</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#r-studio"><i class="fa fa-check"></i><b>2.2</b> R Studio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a></li>
<li class="chapter" data-level="2.4" data-path="installation.html"><a href="installation.html#the-bash-shell"><i class="fa fa-check"></i><b>2.4</b> The Bash Shell</a></li>
<li class="chapter" data-level="2.5" data-path="installation.html"><a href="installation.html#git"><i class="fa fa-check"></i><b>2.5</b> Git</a></li>
<li class="chapter" data-level="2.6" data-path="installation.html"><a href="installation.html#other-helpful-tools"><i class="fa fa-check"></i><b>2.6</b> Other helpful tools</a></li>
<li class="chapter" data-level="2.7" data-path="installation.html"><a href="installation.html#testing-your-installation"><i class="fa fa-check"></i><b>2.7</b> Testing your installation</a></li>
<li class="chapter" data-level="2.8" data-path="installation.html"><a href="installation.html#homework-rubric"><i class="fa fa-check"></i><b>2.8</b> Homework Rubric</a></li>
</ul></li>
<li class="part"><span><b>II Course Notes</b></span></li>
<li class="chapter" data-level="3" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>3</b> Introduction</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction.html"><a href="introduction.html#the-motivation"><i class="fa fa-check"></i><b>3.1</b> The Motivation</a></li>
<li class="chapter" data-level="3.2" data-path="introduction.html"><a href="introduction.html#about-this-class"><i class="fa fa-check"></i><b>3.2</b> About This Class</a></li>
<li class="chapter" data-level="3.3" data-path="introduction.html"><a href="introduction.html#learning-how-to-program"><i class="fa fa-check"></i><b>3.3</b> Learning How to Program</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>4</b> R Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="r-basics.html"><a href="r-basics.html#what-is-r"><i class="fa fa-check"></i><b>4.1</b> What is R?</a></li>
<li class="chapter" data-level="4.2" data-path="r-basics.html"><a href="r-basics.html#r-studio-1"><i class="fa fa-check"></i><b>4.2</b> R Studio</a><ul>
<li class="chapter" data-level="4.2.1" data-path="r-basics.html"><a href="r-basics.html#console"><i class="fa fa-check"></i><b>4.2.1</b> Console</a></li>
<li class="chapter" data-level="4.2.2" data-path="r-basics.html"><a href="r-basics.html#scripts"><i class="fa fa-check"></i><b>4.2.2</b> Scripts</a></li>
<li class="chapter" data-level="4.2.3" data-path="r-basics.html"><a href="r-basics.html#running-code"><i class="fa fa-check"></i><b>4.2.3</b> Running code</a></li>
<li class="chapter" data-level="4.2.4" data-path="r-basics.html"><a href="r-basics.html#comments"><i class="fa fa-check"></i><b>4.2.4</b> Comments</a></li>
<li class="chapter" data-level="4.2.5" data-path="r-basics.html"><a href="r-basics.html#diagnostics-and-errors"><i class="fa fa-check"></i><b>4.2.5</b> Diagnostics and errors</a></li>
<li class="chapter" data-level="4.2.6" data-path="r-basics.html"><a href="r-basics.html#r-environment"><i class="fa fa-check"></i><b>4.2.6</b> R Environment</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="r-basics.html"><a href="r-basics.html#r-markdown"><i class="fa fa-check"></i><b>4.3</b> R Markdown</a><ul>
<li class="chapter" data-level="4.3.1" data-path="r-basics.html"><a href="r-basics.html#yaml-header"><i class="fa fa-check"></i><b>4.3.1</b> YAML header</a></li>
<li class="chapter" data-level="4.3.2" data-path="r-basics.html"><a href="r-basics.html#markdown"><i class="fa fa-check"></i><b>4.3.2</b> Markdown</a></li>
<li class="chapter" data-level="4.3.3" data-path="r-basics.html"><a href="r-basics.html#code-chunks"><i class="fa fa-check"></i><b>4.3.3</b> Code Chunks</a></li>
<li class="chapter" data-level="4.3.4" data-path="r-basics.html"><a href="r-basics.html#knitting"><i class="fa fa-check"></i><b>4.3.4</b> Knitting</a></li>
<li class="chapter" data-level="4.3.5" data-path="r-basics.html"><a href="r-basics.html#cheatsheets-and-other-resources"><i class="fa fa-check"></i><b>4.3.5</b> Cheatsheets and Other Resources</a></li>
<li class="chapter" data-level="4.3.6" data-path="r-basics.html"><a href="r-basics.html#challenges"><i class="fa fa-check"></i><b>4.3.6</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="r-basics.html"><a href="r-basics.html#r-packages-1"><i class="fa fa-check"></i><b>4.4</b> R Packages</a><ul>
<li class="chapter" data-level="4.4.1" data-path="r-basics.html"><a href="r-basics.html#installing-packages"><i class="fa fa-check"></i><b>4.4.1</b> Installing Packages</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-basics.html"><a href="r-basics.html#loading-packages"><i class="fa fa-check"></i><b>4.4.2</b> Loading Packages</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-basics.html"><a href="r-basics.html#challenges-1"><i class="fa fa-check"></i><b>4.4.3</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-syntax.html"><a href="r-syntax.html"><i class="fa fa-check"></i><b>5</b> R Syntax</a><ul>
<li class="chapter" data-level="5.1" data-path="r-syntax.html"><a href="r-syntax.html#variables"><i class="fa fa-check"></i><b>5.1</b> Variables</a><ul>
<li class="chapter" data-level="5.1.1" data-path="r-syntax.html"><a href="r-syntax.html#arithmetic"><i class="fa fa-check"></i><b>5.1.1</b> Arithmetic</a></li>
<li class="chapter" data-level="5.1.2" data-path="r-syntax.html"><a href="r-syntax.html#assigning-variables"><i class="fa fa-check"></i><b>5.1.2</b> Assigning Variables</a></li>
<li class="chapter" data-level="5.1.3" data-path="r-syntax.html"><a href="r-syntax.html#variable-names"><i class="fa fa-check"></i><b>5.1.3</b> Variable Names</a></li>
<li class="chapter" data-level="5.1.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-2"><i class="fa fa-check"></i><b>5.1.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="r-syntax.html"><a href="r-syntax.html#functions"><i class="fa fa-check"></i><b>5.2</b> Functions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="r-syntax.html"><a href="r-syntax.html#arguments"><i class="fa fa-check"></i><b>5.2.1</b> Arguments</a></li>
<li class="chapter" data-level="5.2.2" data-path="r-syntax.html"><a href="r-syntax.html#store-function-output"><i class="fa fa-check"></i><b>5.2.2</b> Store Function Output</a></li>
<li class="chapter" data-level="5.2.3" data-path="r-syntax.html"><a href="r-syntax.html#argument-restrictions-and-defaults"><i class="fa fa-check"></i><b>5.2.3</b> Argument Restrictions and Defaults</a></li>
<li class="chapter" data-level="5.2.4" data-path="r-syntax.html"><a href="r-syntax.html#documentation-and-help-files"><i class="fa fa-check"></i><b>5.2.4</b> Documentation and Help Files</a></li>
<li class="chapter" data-level="5.2.5" data-path="r-syntax.html"><a href="r-syntax.html#challenges-3"><i class="fa fa-check"></i><b>5.2.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="r-syntax.html"><a href="r-syntax.html#data-types"><i class="fa fa-check"></i><b>5.3</b> Data Types</a><ul>
<li class="chapter" data-level="5.3.1" data-path="r-syntax.html"><a href="r-syntax.html#whats-that-type"><i class="fa fa-check"></i><b>5.3.1</b> What’s that Type?</a></li>
<li class="chapter" data-level="5.3.2" data-path="r-syntax.html"><a href="r-syntax.html#coercion"><i class="fa fa-check"></i><b>5.3.2</b> Coercion</a></li>
<li class="chapter" data-level="5.3.3" data-path="r-syntax.html"><a href="r-syntax.html#other-objects"><i class="fa fa-check"></i><b>5.3.3</b> Other Objects</a></li>
<li class="chapter" data-level="5.3.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-4"><i class="fa fa-check"></i><b>5.3.4</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html"><i class="fa fa-check"></i><b>6</b> Data Classes and Structures</a><ul>
<li class="chapter" data-level="6.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#vectors"><i class="fa fa-check"></i><b>6.1</b> Vectors</a><ul>
<li class="chapter" data-level="6.1.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-vectors"><i class="fa fa-check"></i><b>6.1.1</b> Creating Vectors</a></li>
<li class="chapter" data-level="6.1.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-a-vector"><i class="fa fa-check"></i><b>6.1.2</b> Naming a Vector</a></li>
<li class="chapter" data-level="6.1.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#calculations-on-vectors"><i class="fa fa-check"></i><b>6.1.3</b> Calculations on Vectors</a></li>
<li class="chapter" data-level="6.1.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#types-of-vectors"><i class="fa fa-check"></i><b>6.1.4</b> Types of Vectors</a></li>
<li class="chapter" data-level="6.1.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercion-1"><i class="fa fa-check"></i><b>6.1.5</b> Coercion</a></li>
<li class="chapter" data-level="6.1.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-5"><i class="fa fa-check"></i><b>6.1.6</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#lists"><i class="fa fa-check"></i><b>6.2</b> Lists</a><ul>
<li class="chapter" data-level="6.2.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-lists"><i class="fa fa-check"></i><b>6.2.1</b> Creating Lists</a></li>
<li class="chapter" data-level="6.2.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-lists"><i class="fa fa-check"></i><b>6.2.2</b> Naming Lists</a></li>
<li class="chapter" data-level="6.2.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#list-structure"><i class="fa fa-check"></i><b>6.2.3</b> List Structure</a></li>
<li class="chapter" data-level="6.2.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-6"><i class="fa fa-check"></i><b>6.2.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors"><i class="fa fa-check"></i><b>6.3</b> Factors</a><ul>
<li class="chapter" data-level="6.3.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-factors"><i class="fa fa-check"></i><b>6.3.1</b> Creating Factors</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#summarizing-a-factor"><i class="fa fa-check"></i><b>6.3.2</b> Summarizing a Factor</a></li>
<li class="chapter" data-level="6.3.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#changing-factor-levels"><i class="fa fa-check"></i><b>6.3.3</b> Changing Factor Levels</a></li>
<li class="chapter" data-level="6.3.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors-are-integers"><i class="fa fa-check"></i><b>6.3.4</b> Factors are Integers</a></li>
<li class="chapter" data-level="6.3.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-7"><i class="fa fa-check"></i><b>6.3.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrices"><i class="fa fa-check"></i><b>6.4</b> Matrices</a><ul>
<li class="chapter" data-level="6.4.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-matrices"><i class="fa fa-check"></i><b>6.4.1</b> Creating Matrices</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-dimensions"><i class="fa fa-check"></i><b>6.4.2</b> Matrix Dimensions</a></li>
<li class="chapter" data-level="6.4.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-names"><i class="fa fa-check"></i><b>6.4.3</b> Matrix Names</a></li>
<li class="chapter" data-level="6.4.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenge"><i class="fa fa-check"></i><b>6.4.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#dataframes"><i class="fa fa-check"></i><b>6.5</b> Dataframes</a><ul>
<li class="chapter" data-level="6.5.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-dataframes"><i class="fa fa-check"></i><b>6.5.1</b> Creating Dataframes</a></li>
<li class="chapter" data-level="6.5.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#the-structure-of-dataframes"><i class="fa fa-check"></i><b>6.5.2</b> The Structure of Dataframes</a></li>
<li class="chapter" data-level="6.5.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-dataframes"><i class="fa fa-check"></i><b>6.5.3</b> Naming Dataframes</a></li>
<li class="chapter" data-level="6.5.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercing-dataframes"><i class="fa fa-check"></i><b>6.5.4</b> Coercing Dataframes</a></li>
<li class="chapter" data-level="6.5.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-8"><i class="fa fa-check"></i><b>6.5.5</b> Challenges</a></li>
<li class="chapter" data-level="6.5.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#quiz"><i class="fa fa-check"></i><b>6.5.6</b> Quiz</a></li>
<li class="chapter" data-level="6.5.7" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#data-structure-answers"><i class="fa fa-check"></i><b>6.5.7</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>7</b> Subsetting</a><ul>
<li class="chapter" data-level="7.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-vectors"><i class="fa fa-check"></i><b>7.1</b> Subsetting Vectors</a><ul>
<li class="chapter" data-level="7.1.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-types"><i class="fa fa-check"></i><b>7.1.1</b> Subsetting Types</a></li>
<li class="chapter" data-level="7.1.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting"><i class="fa fa-check"></i><b>7.1.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="7.1.3" data-path="subsetting.html"><a href="subsetting.html#challenge-1"><i class="fa fa-check"></i><b>7.1.3</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="subsetting.html"><a href="subsetting.html#subsetting-lists"><i class="fa fa-check"></i><b>7.2</b> Subsetting Lists</a><ul>
<li class="chapter" data-level="7.2.1" data-path="subsetting.html"><a href="subsetting.html#with"><i class="fa fa-check"></i><b>7.2.1</b> With <code>[</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="subsetting.html"><a href="subsetting.html#with-1"><i class="fa fa-check"></i><b>7.2.2</b> With <code>[[</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="subsetting.html"><a href="subsetting.html#with-2"><i class="fa fa-check"></i><b>7.2.3</b> with <code>$</code></a></li>
<li class="chapter" data-level="7.2.4" data-path="subsetting.html"><a href="subsetting.html#challenge-2"><i class="fa fa-check"></i><b>7.2.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="subsetting.html"><a href="subsetting.html#subsetting-matrices"><i class="fa fa-check"></i><b>7.3</b> Subsetting Matrices</a></li>
<li class="chapter" data-level="7.4" data-path="subsetting.html"><a href="subsetting.html#subsetting-dataframes"><i class="fa fa-check"></i><b>7.4</b> Subsetting Dataframes</a><ul>
<li class="chapter" data-level="7.4.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-names-and"><i class="fa fa-check"></i><b>7.4.1</b> Subsetting Names and <code>$</code></a></li>
<li class="chapter" data-level="7.4.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting-1"><i class="fa fa-check"></i><b>7.4.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="7.4.3" data-path="subsetting.html"><a href="subsetting.html#list-like-and-matrix-like-subsetting"><i class="fa fa-check"></i><b>7.4.3</b> List-Like and Matrix-Like Subsetting</a></li>
<li class="chapter" data-level="7.4.4" data-path="subsetting.html"><a href="subsetting.html#challenges-9"><i class="fa fa-check"></i><b>7.4.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="subsetting.html"><a href="subsetting.html#sub-assignment"><i class="fa fa-check"></i><b>7.5</b> Sub-assignment</a><ul>
<li class="chapter" data-level="7.5.1" data-path="subsetting.html"><a href="subsetting.html#basics-of-sub-assignment"><i class="fa fa-check"></i><b>7.5.1</b> Basics of Sub-assignment</a></li>
<li class="chapter" data-level="7.5.2" data-path="subsetting.html"><a href="subsetting.html#recycling"><i class="fa fa-check"></i><b>7.5.2</b> Recycling</a></li>
<li class="chapter" data-level="7.5.3" data-path="subsetting.html"><a href="subsetting.html#applications"><i class="fa fa-check"></i><b>7.5.3</b> Applications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-data.html"><a href="working-with-data.html"><i class="fa fa-check"></i><b>8</b> Working with Data</a><ul>
<li class="chapter" data-level="8.1" data-path="working-with-data.html"><a href="working-with-data.html#project-workflow"><i class="fa fa-check"></i><b>8.1</b> Project Workflow</a><ul>
<li class="chapter" data-level="8.1.1" data-path="working-with-data.html"><a href="working-with-data.html#store-analyses-in-scripts-not-workspaces."><i class="fa fa-check"></i><b>8.1.1</b> Store Analyses in Scripts, Not Workspaces.</a></li>
<li class="chapter" data-level="8.1.2" data-path="working-with-data.html"><a href="working-with-data.html#working-directories-and-paths"><i class="fa fa-check"></i><b>8.1.2</b> Working Directories and Paths</a></li>
<li class="chapter" data-level="8.1.3" data-path="working-with-data.html"><a href="working-with-data.html#r-projects"><i class="fa fa-check"></i><b>8.1.3</b> R Projects</a></li>
<li class="chapter" data-level="8.1.4" data-path="working-with-data.html"><a href="working-with-data.html#file-organization"><i class="fa fa-check"></i><b>8.1.4</b> File Organization</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="working-with-data.html"><a href="working-with-data.html#introduction-to-data"><i class="fa fa-check"></i><b>8.2</b> Introduction to Data</a><ul>
<li class="chapter" data-level="8.2.1" data-path="working-with-data.html"><a href="working-with-data.html#wheres-my-data"><i class="fa fa-check"></i><b>8.2.1</b> Where’s my data?</a></li>
<li class="chapter" data-level="8.2.2" data-path="working-with-data.html"><a href="working-with-data.html#data-storage"><i class="fa fa-check"></i><b>8.2.2</b> Data Storage</a></li>
<li class="chapter" data-level="8.2.3" data-path="working-with-data.html"><a href="working-with-data.html#tidy-data"><i class="fa fa-check"></i><b>8.2.3</b> <code>tidy</code> Data</a></li>
<li class="chapter" data-level="8.2.4" data-path="working-with-data.html"><a href="working-with-data.html#relational-data"><i class="fa fa-check"></i><b>8.2.4</b> Relational data</a></li>
<li class="chapter" data-level="8.2.5" data-path="working-with-data.html"><a href="working-with-data.html#keys"><i class="fa fa-check"></i><b>8.2.5</b> Keys</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="working-with-data.html"><a href="working-with-data.html#importing-and-exporting"><i class="fa fa-check"></i><b>8.3</b> Importing and Exporting</a><ul>
<li class="chapter" data-level="8.3.1" data-path="working-with-data.html"><a href="working-with-data.html#importing-data"><i class="fa fa-check"></i><b>8.3.1</b> Importing Data</a></li>
<li class="chapter" data-level="8.3.2" data-path="working-with-data.html"><a href="working-with-data.html#exporting-data"><i class="fa fa-check"></i><b>8.3.2</b> Exporting Data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="working-with-data.html"><a href="working-with-data.html#exploring-data"><i class="fa fa-check"></i><b>8.4</b> Exploring Data</a><ul>
<li class="chapter" data-level="8.4.1" data-path="working-with-data.html"><a href="working-with-data.html#the-gapminder-dataset"><i class="fa fa-check"></i><b>8.4.1</b> The Gapminder Dataset</a></li>
<li class="chapter" data-level="8.4.2" data-path="working-with-data.html"><a href="working-with-data.html#structure-and-dimensions"><i class="fa fa-check"></i><b>8.4.2</b> Structure and Dimensions</a></li>
<li class="chapter" data-level="8.4.3" data-path="working-with-data.html"><a href="working-with-data.html#common-alterations"><i class="fa fa-check"></i><b>8.4.3</b> Common Alterations</a></li>
<li class="chapter" data-level="8.4.4" data-path="working-with-data.html"><a href="working-with-data.html#summary-statistics"><i class="fa fa-check"></i><b>8.4.4</b> Summary statistics</a></li>
<li class="chapter" data-level="8.4.5" data-path="working-with-data.html"><a href="working-with-data.html#review-of-subsetting"><i class="fa fa-check"></i><b>8.4.5</b> Review of Subsetting</a></li>
<li class="chapter" data-level="8.4.6" data-path="working-with-data.html"><a href="working-with-data.html#basic-plotting"><i class="fa fa-check"></i><b>8.4.6</b> Basic Plotting</a></li>
<li class="chapter" data-level="8.4.7" data-path="working-with-data.html"><a href="working-with-data.html#challenges-10"><i class="fa fa-check"></i><b>8.4.7</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>9</b> Data Transformation</a><ul>
<li class="chapter" data-level="9.1" data-path="data-transformation.html"><a href="data-transformation.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="9.1.1" data-path="data-transformation.html"><a href="data-transformation.html#tidyverse"><i class="fa fa-check"></i><b>9.1.1</b> <code>tidyverse</code></a></li>
<li class="chapter" data-level="9.1.2" data-path="data-transformation.html"><a href="data-transformation.html#gapminder"><i class="fa fa-check"></i><b>9.1.2</b> Gapminder</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-transformation.html"><a href="data-transformation.html#why-dplyr"><i class="fa fa-check"></i><b>9.1.3</b> Why <code>dplyr</code>?</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-transformation.html"><a href="data-transformation.html#dplyr-functions"><i class="fa fa-check"></i><b>9.2</b> <code>dplyr</code> Functions</a><ul>
<li class="chapter" data-level="9.2.1" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>9.2.1</b> Select Columns with <code>select</code></a></li>
<li class="chapter" data-level="9.2.2" data-path="data-transformation.html"><a href="data-transformation.html#the-pipe"><i class="fa fa-check"></i><b>9.2.2</b> The Pipe</a></li>
<li class="chapter" data-level="9.2.3" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>9.2.3</b> Filter Rows with <code>filter</code></a></li>
<li class="chapter" data-level="9.2.4" data-path="data-transformation.html"><a href="data-transformation.html#calculate-across-groups-with-group_by"><i class="fa fa-check"></i><b>9.2.4</b> Calculate Across Groups with <code>group_by</code></a></li>
<li class="chapter" data-level="9.2.5" data-path="data-transformation.html"><a href="data-transformation.html#summarize-across-groups-with-summarize"><i class="fa fa-check"></i><b>9.2.5</b> Summarize Across Groups with <code>summarize</code></a></li>
<li class="chapter" data-level="9.2.6" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>9.2.6</b> Add New Variables with <code>mutate</code></a></li>
<li class="chapter" data-level="9.2.7" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>9.2.7</b> Arrange Rows with <code>arrange</code></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-transformation.html"><a href="data-transformation.html#dplyr-and-non-standard-evaluation"><i class="fa fa-check"></i><b>9.3</b> <code>dplyr</code> and “Non-Standard Evaluation”</a><ul>
<li class="chapter" data-level="9.3.1" data-path="data-transformation.html"><a href="data-transformation.html#challenges-11"><i class="fa fa-check"></i><b>9.3.1</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>10</b> Tidying Data</a><ul>
<li class="chapter" data-level="10.1" data-path="tidying-data.html"><a href="tidying-data.html#wide-vs.long-formats"><i class="fa fa-check"></i><b>10.1</b> Wide vs. Long Formats</a></li>
<li class="chapter" data-level="10.2" data-path="tidying-data.html"><a href="tidying-data.html#tidying-the-gapminder-data"><i class="fa fa-check"></i><b>10.2</b> Tidying the Gapminder Data</a></li>
<li class="chapter" data-level="10.3" data-path="tidying-data.html"><a href="tidying-data.html#tidyr-functions"><i class="fa fa-check"></i><b>10.3</b> <code>tidyr</code> Functions</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tidying-data.html"><a href="tidying-data.html#gather"><i class="fa fa-check"></i><b>10.3.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="10.3.2" data-path="tidying-data.html"><a href="tidying-data.html#separate"><i class="fa fa-check"></i><b>10.3.2</b> <code>separate</code></a></li>
<li class="chapter" data-level="10.3.3" data-path="tidying-data.html"><a href="tidying-data.html#spread"><i class="fa fa-check"></i><b>10.3.3</b> <code>spread</code></a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="tidying-data.html"><a href="tidying-data.html#more-tidyverse"><i class="fa fa-check"></i><b>10.4</b> More <code>tidyverse</code></a></li>
<li class="chapter" data-level="10.5" data-path="tidying-data.html"><a href="tidying-data.html#challenges-12"><i class="fa fa-check"></i><b>10.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="relational-data-1.html"><a href="relational-data-1.html"><i class="fa fa-check"></i><b>11</b> Relational Data</a><ul>
<li class="chapter" data-level="11.1" data-path="relational-data-1.html"><a href="relational-data-1.html#why-relational-data"><i class="fa fa-check"></i><b>11.1</b> Why Relational Data</a></li>
<li class="chapter" data-level="11.2" data-path="relational-data-1.html"><a href="relational-data-1.html#keys-1"><i class="fa fa-check"></i><b>11.2</b> Keys</a></li>
<li class="chapter" data-level="11.3" data-path="relational-data-1.html"><a href="relational-data-1.html#joins"><i class="fa fa-check"></i><b>11.3</b> Joins</a></li>
<li class="chapter" data-level="11.4" data-path="relational-data-1.html"><a href="relational-data-1.html#defining-keys"><i class="fa fa-check"></i><b>11.4</b> Defining Keys</a></li>
<li class="chapter" data-level="11.5" data-path="relational-data-1.html"><a href="relational-data-1.html#duplicate-keys"><i class="fa fa-check"></i><b>11.5</b> Duplicate Keys</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>12</b> Plotting</a><ul>
<li class="chapter" data-level="12.1" data-path="plotting.html"><a href="plotting.html#the-dataset"><i class="fa fa-check"></i><b>12.1</b> The Dataset</a></li>
<li class="chapter" data-level="12.2" data-path="plotting.html"><a href="plotting.html#r-base-graphics"><i class="fa fa-check"></i><b>12.2</b> R Base Graphics</a><ul>
<li class="chapter" data-level="12.2.1" data-path="plotting.html"><a href="plotting.html#scatter-and-line-plots"><i class="fa fa-check"></i><b>12.2.1</b> Scatter and Line Plots</a></li>
<li class="chapter" data-level="12.2.2" data-path="plotting.html"><a href="plotting.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>12.2.2</b> Histograms and Density Plots</a></li>
<li class="chapter" data-level="12.2.3" data-path="plotting.html"><a href="plotting.html#labels"><i class="fa fa-check"></i><b>12.2.3</b> Labels</a></li>
<li class="chapter" data-level="12.2.4" data-path="plotting.html"><a href="plotting.html#axis-and-size-scaling"><i class="fa fa-check"></i><b>12.2.4</b> Axis and Size Scaling</a></li>
<li class="chapter" data-level="12.2.5" data-path="plotting.html"><a href="plotting.html#graphical-parameters"><i class="fa fa-check"></i><b>12.2.5</b> Graphical Parameters</a></li>
<li class="chapter" data-level="12.2.6" data-path="plotting.html"><a href="plotting.html#annotations-reference-lines-and-legends"><i class="fa fa-check"></i><b>12.2.6</b> Annotations, Reference Lines, and Legends</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="plotting.html"><a href="plotting.html#ggplot2"><i class="fa fa-check"></i><b>12.3</b> ggplot2</a><ul>
<li class="chapter" data-level="12.3.1" data-path="plotting.html"><a href="plotting.html#grammar"><i class="fa fa-check"></i><b>12.3.1</b> Grammar</a></li>
<li class="chapter" data-level="12.3.2" data-path="plotting.html"><a href="plotting.html#anatomy-of-aes"><i class="fa fa-check"></i><b>12.3.2</b> Anatomy of <code>aes</code></a></li>
<li class="chapter" data-level="12.3.3" data-path="plotting.html"><a href="plotting.html#layers"><i class="fa fa-check"></i><b>12.3.3</b> Layers</a></li>
<li class="chapter" data-level="12.3.4" data-path="plotting.html"><a href="plotting.html#labels-1"><i class="fa fa-check"></i><b>12.3.4</b> Labels</a></li>
<li class="chapter" data-level="12.3.5" data-path="plotting.html"><a href="plotting.html#transformations-and-stats"><i class="fa fa-check"></i><b>12.3.5</b> Transformations and Stats</a></li>
<li class="chapter" data-level="12.3.6" data-path="plotting.html"><a href="plotting.html#facets"><i class="fa fa-check"></i><b>12.3.6</b> Facets</a></li>
<li class="chapter" data-level="12.3.7" data-path="plotting.html"><a href="plotting.html#putting-everything-together"><i class="fa fa-check"></i><b>12.3.7</b> Putting Everything Together</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="plotting.html"><a href="plotting.html#saving-plots"><i class="fa fa-check"></i><b>12.4</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="statistical-inferences.html"><a href="statistical-inferences.html"><i class="fa fa-check"></i><b>13</b> Statistical Inferences</a><ul>
<li class="chapter" data-level="13.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-distributions"><i class="fa fa-check"></i><b>13.1</b> Statistical Distributions</a><ul>
<li class="chapter" data-level="13.1.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#sampling-and-simulation"><i class="fa fa-check"></i><b>13.1.1</b> Sampling and Simulation</a></li>
<li class="chapter" data-level="13.1.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#random-seeds"><i class="fa fa-check"></i><b>13.1.2</b> Random Seeds</a></li>
<li class="chapter" data-level="13.1.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-13"><i class="fa fa-check"></i><b>13.1.3</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#inferences-and-regressions"><i class="fa fa-check"></i><b>13.2</b> Inferences and Regressions</a><ul>
<li class="chapter" data-level="13.2.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-tests"><i class="fa fa-check"></i><b>13.2.1</b> Statistical Tests</a></li>
<li class="chapter" data-level="13.2.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regressions-and-linear-models"><i class="fa fa-check"></i><b>13.2.2</b> Regressions and Linear Models</a></li>
<li class="chapter" data-level="13.2.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regression-output"><i class="fa fa-check"></i><b>13.2.3</b> Regression Output</a></li>
<li class="chapter" data-level="13.2.4" data-path="statistical-inferences.html"><a href="statistical-inferences.html#interactions"><i class="fa fa-check"></i><b>13.2.4</b> Interactions</a></li>
<li class="chapter" data-level="13.2.5" data-path="statistical-inferences.html"><a href="statistical-inferences.html#formatting-regression-tables"><i class="fa fa-check"></i><b>13.2.5</b> Formatting Regression Tables</a></li>
<li class="chapter" data-level="13.2.6" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-14"><i class="fa fa-check"></i><b>13.2.6</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>14</b> Strings and Regular Expressions</a><ul>
<li class="chapter" data-level="14.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#common-string-operations"><i class="fa fa-check"></i><b>14.1</b> Common String Operations</a><ul>
<li class="chapter" data-level="14.1.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#concatinating-strings-with-paste"><i class="fa fa-check"></i><b>14.1.1</b> Concatinating strings with <code>paste()</code></a></li>
<li class="chapter" data-level="14.1.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-substrings"><i class="fa fa-check"></i><b>14.1.2</b> Extracting Substrings</a></li>
<li class="chapter" data-level="14.1.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replace-substrings-with-gsub"><i class="fa fa-check"></i><b>14.1.3</b> Replace Substrings with <code>gsub()</code></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>14.2</b> Regular Expressions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>15</b> Programming in R</a><ul>
<li class="chapter" data-level="15.1" data-path="programming-in-r.html"><a href="programming-in-r.html#conditional-flow"><i class="fa fa-check"></i><b>15.1</b> Conditional Flow</a><ul>
<li class="chapter" data-level="15.1.1" data-path="programming-in-r.html"><a href="programming-in-r.html#multiple-conditions"><i class="fa fa-check"></i><b>15.1.1</b> Multiple conditions</a></li>
<li class="chapter" data-level="15.1.2" data-path="programming-in-r.html"><a href="programming-in-r.html#complex-statements"><i class="fa fa-check"></i><b>15.1.2</b> Complex statements</a></li>
<li class="chapter" data-level="15.1.3" data-path="programming-in-r.html"><a href="programming-in-r.html#code-style"><i class="fa fa-check"></i><b>15.1.3</b> Code style</a></li>
<li class="chapter" data-level="15.1.4" data-path="programming-in-r.html"><a href="programming-in-r.html#if-vs.-if_else"><i class="fa fa-check"></i><b>15.1.4</b> <code>if</code> vs. <code>if_else</code></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="programming-in-r.html"><a href="programming-in-r.html#functions-1"><i class="fa fa-check"></i><b>15.2</b> Functions</a><ul>
<li class="chapter" data-level="15.2.1" data-path="programming-in-r.html"><a href="programming-in-r.html#why-write-functions"><i class="fa fa-check"></i><b>15.2.1</b> Why write functions?</a></li>
<li class="chapter" data-level="15.2.2" data-path="programming-in-r.html"><a href="programming-in-r.html#anatomy-of-a-function"><i class="fa fa-check"></i><b>15.2.2</b> Anatomy of a function</a></li>
<li class="chapter" data-level="15.2.3" data-path="programming-in-r.html"><a href="programming-in-r.html#writing-a-function"><i class="fa fa-check"></i><b>15.2.3</b> Writing a function</a></li>
<li class="chapter" data-level="15.2.4" data-path="programming-in-r.html"><a href="programming-in-r.html#using-a-function"><i class="fa fa-check"></i><b>15.2.4</b> Using a function</a></li>
<li class="chapter" data-level="15.2.5" data-path="programming-in-r.html"><a href="programming-in-r.html#variable-scope"><i class="fa fa-check"></i><b>15.2.5</b> Variable Scope</a></li>
<li class="chapter" data-level="15.2.6" data-path="programming-in-r.html"><a href="programming-in-r.html#arguments-1"><i class="fa fa-check"></i><b>15.2.6</b> Arguments</a></li>
<li class="chapter" data-level="15.2.7" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-15"><i class="fa fa-check"></i><b>15.2.7</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="programming-in-r.html"><a href="programming-in-r.html#iteration"><i class="fa fa-check"></i><b>15.3</b> Iteration</a><ul>
<li class="chapter" data-level="15.3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#vectorized-functions"><i class="fa fa-check"></i><b>15.3.1</b> Vectorized functions</a></li>
<li class="chapter" data-level="15.3.2" data-path="programming-in-r.html"><a href="programming-in-r.html#for-loops"><i class="fa fa-check"></i><b>15.3.2</b> For-loops</a></li>
<li class="chapter" data-level="15.3.3" data-path="programming-in-r.html"><a href="programming-in-r.html#functional-programming-and-map"><i class="fa fa-check"></i><b>15.3.3</b> Functional Programming and <code>map</code></a></li>
<li class="chapter" data-level="15.3.4" data-path="programming-in-r.html"><a href="programming-in-r.html#scoped-verbs"><i class="fa fa-check"></i><b>15.3.4</b> Scoped verbs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html"><i class="fa fa-check"></i><b>16</b> Collecting Data from the Web</a><ul>
<li class="chapter" data-level="16.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#introduction-2"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#web-apis"><i class="fa fa-check"></i><b>16.2</b> Web APIs</a><ul>
<li class="chapter" data-level="16.2.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#some-basic-terminology"><i class="fa fa-check"></i><b>16.2.1</b> Some Basic Terminology</a></li>
<li class="chapter" data-level="16.2.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#how-do-get-requests-work"><i class="fa fa-check"></i><b>16.2.2</b> How Do GET Requests Work?</a></li>
<li class="chapter" data-level="16.2.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-apis"><i class="fa fa-check"></i><b>16.2.3</b> Finding APIs</a></li>
<li class="chapter" data-level="16.2.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#getting-api-access"><i class="fa fa-check"></i><b>16.2.4</b> Getting API Access</a></li>
<li class="chapter" data-level="16.2.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-apis-in-r"><i class="fa fa-check"></i><b>16.2.5</b> Using APIs in R</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#collecting-twitter-data-with-rtweet"><i class="fa fa-check"></i><b>16.3</b> Collecting Twitter Data with RTweet</a><ul>
<li class="chapter" data-level="16.3.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#setting-up-rtweet"><i class="fa fa-check"></i><b>16.3.1</b> Setting up <code>RTweet</code></a></li>
<li class="chapter" data-level="16.3.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#uchicago-political-science-prof-tweets"><i class="fa fa-check"></i><b>16.3.2</b> UChicago Political Science Prof Tweets</a></li>
<li class="chapter" data-level="16.3.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#hashtags-and-text-strings"><i class="fa fa-check"></i><b>16.3.3</b> Hashtags and Text Strings</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#writing-api-queries"><i class="fa fa-check"></i><b>16.4</b> Writing API Queries</a><ul>
<li class="chapter" data-level="16.4.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#constructing-the-api-get-request"><i class="fa fa-check"></i><b>16.4.1</b> Constructing the API GET Request</a></li>
<li class="chapter" data-level="16.4.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#parsing-the-response"><i class="fa fa-check"></i><b>16.4.2</b> Parsing the response</a></li>
<li class="chapter" data-level="16.4.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#iteration-through-results-pager"><i class="fa fa-check"></i><b>16.4.3</b> Iteration through results pager</a></li>
<li class="chapter" data-level="16.4.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#visualizing-results"><i class="fa fa-check"></i><b>16.4.4</b> Visualizing Results</a></li>
<li class="chapter" data-level="16.4.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#more-resources-1"><i class="fa fa-check"></i><b>16.4.5</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#webscraping"><i class="fa fa-check"></i><b>16.5</b> Webscraping</a><ul>
<li class="chapter" data-level="16.5.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#whats-a-website"><i class="fa fa-check"></i><b>16.5.1</b> What’s a website?</a></li>
<li class="chapter" data-level="16.5.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#html"><i class="fa fa-check"></i><b>16.5.2</b> HTML</a></li>
<li class="chapter" data-level="16.5.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#css"><i class="fa fa-check"></i><b>16.5.3</b> CSS</a></li>
<li class="chapter" data-level="16.5.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-elements-with-selector-gadget"><i class="fa fa-check"></i><b>16.5.4</b> Finding Elements with Selector Gadget</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#scraping-presidential-statements"><i class="fa fa-check"></i><b>16.6</b> Scraping Presidential Statements</a><ul>
<li class="chapter" data-level="16.6.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-rvest-to-read-html"><i class="fa fa-check"></i><b>16.6.1</b> Using <code>RVest</code> to Read HTML</a></li>
<li class="chapter" data-level="16.6.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#find-page-elements"><i class="fa fa-check"></i><b>16.6.2</b> Find Page Elements</a></li>
<li class="chapter" data-level="16.6.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#get-attributes-and-text-of-elements"><i class="fa fa-check"></i><b>16.6.3</b> Get Attributes and Text of Elements</a></li>
<li class="chapter" data-level="16.6.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#lets-do-this."><i class="fa fa-check"></i><b>16.6.4</b> Let’s DO this.</a></li>
<li class="chapter" data-level="16.6.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#challenge-1-make-a-function"><i class="fa fa-check"></i><b>16.6.5</b> Challenge 1: Make a function</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Assignments and Projects</b></span></li>
<li class="chapter" data-level="17" data-path="assignments-1.html"><a href="assignments-1.html"><i class="fa fa-check"></i><b>17</b> Assignments</a><ul>
<li class="chapter" data-level="17.1" data-path="assignments-1.html"><a href="assignments-1.html#assignment-1"><i class="fa fa-check"></i><b>17.1</b> Assignment 1</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PLSC 31101: Introduction To Computational Tools And Techniques For Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-data" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Working with Data</h1>
<p>Insert some introduction here.</p>
<div id="project-workflow" class="section level2">
<h2><span class="header-section-number">8.1</span> Project Workflow</h2>
<p>One day…</p>
<ul>
<li>you will need to quit R, go do something else, and return to your analysis the next day.</li>
<li>you will be working on multiple projects simultaneously, and you’ll want to keep them separate.</li>
<li>you will need to bring data from the outside world into R, and send numerical results and figures from R back out into the world.</li>
</ul>
<p>This unit teaches these topics.</p>
<div id="store-analyses-in-scripts-not-workspaces." class="section level3">
<h3><span class="header-section-number">8.1.1</span> Store Analyses in Scripts, Not Workspaces.</h3>
<p>R Studio automatically preserves your workspace (environment and command history) when you quit R, and re-loads it the next session. I recommend you turn this behavior off.</p>
<div class="figure">
<img src="img/rstudio-workspace.png" />

</div>
<p>This will cause you some short-term pain, because now when you restart RStudio, it will not remember the results of the code that you ran last time. But this short-term pain will save you long-term agony, because it forces you to capture all important interactions in your scripts.</p>
</div>
<div id="working-directories-and-paths" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Working Directories and Paths</h3>
<p>Like many programming languages, R has a powerful notion of the <strong>working directory</strong>. This is where R looks for files that you ask it to load, and where it will put any files that you ask it to save.</p>
<p>RStudio shows your current working directory at the top of the console. You can print this out in R code by running <code>getwd()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()
<span class="co">#&gt; [1] &quot;/Users/rochelleterman/Desktop/plsc-31101&quot;</span></code></pre></div>
<p>I do not recommend it, but you can set the working directory from within R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setwd</span>(<span class="st">&quot;/path/to/my/CoolProject&quot;</span>)</code></pre></div>
<p>The command above prints out a <strong>path</strong> to your working directory. Think of a path as an address. Paths are incredibly important in programming, but can be a little tricky. Let’s go into a bit more detail.</p>
<div id="absolute-paths" class="section level4 unnumbered">
<h4>Absolute Paths</h4>
<p>Absolute paths are paths that point to the same place regardless of your current working directory. They always start with the <strong>root directory</strong> that holds everything else on your computer.</p>
<ul>
<li>In Windows, absolute paths start with a drive letter (e.g. <code>C:</code>) or two backslashes (e.g. <code>\\servername</code>).</li>
<li>In Mac/Linux they start with a slash <code>/</code>. This is the leading slash in <code>/users/rterman</code>.</li>
</ul>
<p>Inside the root directory are several other directories, which we call <strong>subdirectories</strong>. We know that the directory <code>/home/rterman</code> is stored inside <code>/home</code> because <code>/home</code> is the first part of its name. Similarly, we know that <code>/home</code> is stored inside the root directory <code>/</code> because its name begins with <code>/</code>.</p>
<blockquote>
<p>Notice that there are two meanings for the <code>/</code> character. When it appears at the front of a file or directory name, &gt; it refers to the root directory. When it appears <em>inside</em> a name, &gt; it’s just a separator.</p>
</blockquote>
</div>
<div id="maclinux-vs.windows" class="section level4 unnumbered">
<h4>Mac/Linux vs. Windows</h4>
<p>There are two basic styles of paths: Mac/Linux and Windows. The main difference is how you separate the components of the path. Mac and Linux use slashes (e.g. <code>plots/diamonds.pdf</code>) and Windows uses backslashes (e.g. <code>plots\diamonds.pdf</code>).</p>
<p>R can work with either type, no matter what platform you’re currently using. Unfortunately, backslashes mean something special to R, and to get a single backslash in the path, you need to type two backslashes! That makes life frustrating, so I recommend always using the Linux/Mac style with forward slashes.</p>
</div>
<div id="home-directory" class="section level4 unnumbered">
<h4>Home Directory</h4>
<p>Sometimes you’ll see a <code>~</code> character in a path. * In Mac/Linux, the <code>~</code> is a convenient shortcut to your <strong>home directory</strong> (<code>/users/rterman</code>). * Windows doesn’t really have the notion of a home directory, so it usually points to your documents directory (<code>C:\Documents</code> and <code>Settings\rterman</code>)</p>
</div>
<div id="absolute-vs.relative-paths" class="section level4 unnumbered">
<h4>Absolute vs. Relative Paths</h4>
<p>You should try not to use absolute paths in your scripts, because they hinder sharing: no one else will have exactly the same directory configuration as you. Another way to direct R to something is to give it a <strong>relative path</strong>.</p>
<p>Relative paths point to something relative to where you are, rather than from the root of the file system. For example, if your current working directory is <code>/home/rterman</code>, then the relative path <code>data/un.csv</code> directs to the full absolute path: <code>/home/rterman/data/un.csv</code></p>
</div>
</div>
<div id="r-projects" class="section level3">
<h3><span class="header-section-number">8.1.3</span> R Projects</h3>
<p>As a beginning R user, it’s OK to let your home directory, documents directory, or any other weird directory on your computer be R’s working directory.</p>
<p>But from this point forward, you should be organizing your projects into dedicated subdirectories, containing all the files associated with a project — input data, R scripts, results, figures.</p>
<p>This is such a common practice that RStudio has built-in support for this via <strong>projects</strong>.</p>
<p>Let’s make a project together. Click <code>File &gt; New Project</code>, then:</p>
<p>~<a href="rstudio-project-1.png"></a></p>
<p>Think carefully about which subdirectory you put the project in. If you don’t store it somewhere sensible, it will be hard to find in the future!</p>
<p>Once this process is complete, you’ll get a new RStudio project. Check that the “home” directory of your project is the current working directory:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">getwd</span>()
<span class="co">#&gt; [1] &quot;/Users/rochelleterman/Desktop/plsc-31101&quot;</span></code></pre></div>
<p>Now whenever you refer to a file with a relative path, it will look for it there.</p>
<p>Go ahead and create a new R script and save it inside the project folder.</p>
<p>Quit RStudio. Inspect the folder associated with your project — notice the .Rproj file. Double-click that file to re-open the project. Notice you get back to where you left off: it’s the same working directory and command history, and all the files you were working on are still open. Because you followed my instructions above, you will, however, have a completely fresh environment, guaranteeing that you’re starting with a clean slate.</p>
</div>
<div id="file-organization" class="section level3">
<h3><span class="header-section-number">8.1.4</span> File Organization</h3>
<p>You should be saving all your files associated with your project in one directory. Here’s a basic organization structure that I recommend:</p>
<div class="sourceCode"><pre class="sourceCode md"><code class="sourceCode markdown">~~~
masters_thesis:
  masters_thesis.Rproj
  01_Clean.R
  02_Model.R
  03_Visualizations.R
  Data/
<span class="bn">    raw/</span>
<span class="bn">      un-raw.csv</span>
<span class="bn">      worldbank-raw.csv</span>
<span class="bn">    cleaned/</span>
<span class="bn">      country-year.csv</span>
  Results:
<span class="bn">    regressions</span>
<span class="bn">      h1.txt</span>
<span class="bn">      h2.txt</span>
<span class="bn">    figures</span>
<span class="bn">      bivariate.pdf</span>
<span class="bn">      bar_plot.pdf</span>
~~~</code></pre></div>
<p>Here are some important tips:</p>
<ul>
<li>read raw data from the <code>Data</code> subdirectory. Don’t ever change or overwrite the raw data!</li>
<li>export cleaned and altered data into a separate directory.</li>
<li>write separate scripts for each stage in the research pipeline. Keep scripts short and focused on one main purpose. If a script gets too long, that might be a sign you need to split it up.</li>
<li>write scripts that reproduce your results and figures, and write them in the <code>Results</code> subdirectory.</li>
</ul>
<div id="acknowledgements" class="section level4 unnumbered">
<h4>Acknowledgements</h4>
<p>This page is in part derived from the following sources:</p>
<ol style="list-style-type: decimal">
<li><a href="https://r4ds.had.co.nz">R for Data Science</a> licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/us/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0</a></li>
</ol>
</div>
<div id="more-resources" class="section level4 unnumbered">
<h4>More Resources</h4>
<ul>
<li><a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">Gentzkow, Matthew and Jesse M. Shapiro. 2014. Code and Data for the Social Sciences: A Practitioner’s Guide.</a></li>
</ul>

</div>
</div>
</div>
<div id="introduction-to-data" class="section level2">
<h2><span class="header-section-number">8.2</span> Introduction to Data</h2>
<p>The upcoming weeks will be focused on using R for data cleaning and analysis. Let’s first get on the same page with some terms:</p>
<ul>
<li><p>A <strong>variable</strong> is a quantity, quality, or property that you can measure.</p></li>
<li><p>An <strong>observation</strong> is a set of measurements for the same unit. An observation will contain several values, each associated with a different variable. I’ll sometimes refer to an observation as a <strong>data point</strong> or an <strong>element</strong>.</p></li>
<li><p>A <strong>value</strong> is the state of a variable for a particular observation.</p></li>
<li><p><strong>Tabular data</strong> is a set of values, each associated with a variable and an observation. Tabular data has rows (observations) and columns (variables). Also called <strong>rectangular</strong> data or <strong>spreadsheets</strong>.</p></li>
</ul>
<div class="figure">
<img src="img/tidy-1.png" />

</div>
<div id="wheres-my-data" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Where’s my data?</h3>
<p>To start, you first need to know where your data lives. Sometimes, the data is stored as a file on your computer, e.g. csv, Excel, SPSS, or some other file type. When the data is on your computer, we say the data is stored <strong>locally</strong>.</p>
<p>Data can also be stored externally on the Internet, in a package, or obtained through other sources. For example, some R packages contain datasets. The <code>nycflights13</code> package contains information on flights that departed NYC in 2013.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># not run</span>
<span class="co"># install.packages(&quot;nycflights13&quot;)</span>
<span class="kw">library</span>(nycflights13)
<span class="kw">data</span>(flights)
<span class="kw">names</span>(flights)
<span class="co">#&gt;  [1] &quot;year&quot;           &quot;month&quot;          &quot;day&quot;            &quot;dep_time&quot;      </span>
<span class="co">#&gt;  [5] &quot;sched_dep_time&quot; &quot;dep_delay&quot;      &quot;arr_time&quot;       &quot;sched_arr_time&quot;</span>
<span class="co">#&gt;  [9] &quot;arr_delay&quot;      &quot;carrier&quot;        &quot;flight&quot;         &quot;tailnum&quot;       </span>
<span class="co">#&gt; [13] &quot;origin&quot;         &quot;dest&quot;           &quot;air_time&quot;       &quot;distance&quot;      </span>
<span class="co">#&gt; [17] &quot;hour&quot;           &quot;minute&quot;         &quot;time_hour&quot;</span>
<span class="kw">rm</span>(flights)
<span class="co"># </span></code></pre></div>
<p>Later in this course, we’ll discuss how to obtain data from web APIs and websites. For now, the rest of the unit discusses data that is stored <strong>locally</strong>.</p>
</div>
<div id="data-storage" class="section level3">
<h3><span class="header-section-number">8.2.2</span> Data Storage</h3>
<p>Ideally, your data should be stored in a certain file format. I recommend a <code>csv</code> (comma separated value) file, which formats spreadsheet (rectangular) data in a plain-text format. <code>csv</code> files are plain-text, and can be read into almost any statistical software program, including R. Try to avoid Excel files if you can.</p>
<p>Here are some other tips:</p>
<ul>
<li>When working with spreadsheets, the first row is usually reserved for the header, while the first column is used to identify the sampling unit (<strong>unique identifier</strong>, see below.)</li>
<li>Avoid file names and variable names with blank spaces. This can cause errors when reading in data.</li>
<li>If you want to concatenate words, insert a <code>.</code> or <code>_</code> in between to words instead of a space;</li>
<li>Short names are prefered over longer names;</li>
<li>Try to avoid using names that contain symbols such as <code>?</code>, <code>$</code>,<code>%</code>, <code>^</code>, <code>&amp;</code>, <code>*</code>, <code>(</code>, <code>)</code>, <code>-</code>, <code>#</code>, <code>?</code>, <code>,</code>, <code>&lt;</code>, <code>&gt;</code>, <code>/</code>, <code>|</code>, <code>\</code>, <code>[</code> ,<code>]</code>,<code>{</code>, and <code>}</code>;</li>
<li>make sure that any missing values in your data set are indicated with <code>NA</code> or blank fields (don’t use 99 or 77)..</li>
</ul>
</div>
<div id="tidy-data" class="section level3">
<h3><span class="header-section-number">8.2.3</span> <code>tidy</code> Data</h3>
<p>Datasets in the wild can often be messy. For example, check out the following data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">messy &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">county =</span> <span class="kw">c</span>(<span class="dv">36037</span>, <span class="dv">36038</span>, <span class="dv">36039</span>, <span class="dv">36040</span>, <span class="ot">NA</span> , <span class="dv">37001</span>, <span class="dv">37002</span>, <span class="dv">37003</span>),
  <span class="dt">state =</span> <span class="kw">c</span>(<span class="st">&#39;NY&#39;</span>, <span class="st">&#39;NY&#39;</span>, <span class="st">&#39;NY&#39;</span>, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="st">&#39;VA&#39;</span>, <span class="st">&#39;VA&#39;</span>, <span class="st">&#39;VA&#39;</span>),
  <span class="dt">cnty_pop =</span> <span class="kw">c</span>(<span class="dv">3817735</span>, <span class="dv">422999</span>, <span class="dv">324920</span>, <span class="dv">143432</span>, <span class="ot">NA</span>, <span class="dv">3228290</span>, <span class="dv">449499</span>, <span class="dv">383888</span>),
  <span class="dt">state_pop =</span> <span class="kw">c</span>(<span class="dv">43320903</span>, <span class="dv">43320903</span>, <span class="ot">NA</span>, <span class="dv">43320903</span>, <span class="dv">43320903</span>, <span class="dv">7173000</span>, <span class="dv">7173000</span>, <span class="dv">7173000</span>),
  <span class="dt">region =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>)
)
messy
<span class="co">#&gt;   county state cnty_pop state_pop region</span>
<span class="co">#&gt; 1  36037    NY  3817735  43320903      1</span>
<span class="co">#&gt; 2  36038    NY   422999  43320903      1</span>
<span class="co">#&gt; 3  36039    NY   324920        NA      1</span>
<span class="co">#&gt; 4  36040  &lt;NA&gt;   143432  43320903      1</span>
<span class="co">#&gt; 5     NA  &lt;NA&gt;       NA  43320903      1</span>
<span class="co">#&gt; 6  37001    VA  3228290   7173000      3</span>
<span class="co">#&gt; 7  37002    VA   449499   7173000      3</span>
<span class="co">#&gt; 8  37003    VA   383888   7173000      4</span></code></pre></div>
<p>What a mess! How can the population of the state of New York be 43 million for one county but “missing” for another? If this is a dataset of counties, what does it mean when the “county” field is missing? If region is something like Census region, how can two counties in the same state be in different regions? And why is it that all the counties whose codes start with 36 are in New York except for one, where the state is unknown?</p>
<p>The goal should be to put our data in a tidy format. The two most important properties of tidy data are:</p>
<ol style="list-style-type: decimal">
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ol>
<p>If we follow these principles, our data should look like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">counties &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">county =</span> <span class="kw">c</span>(<span class="dv">36037</span>, <span class="dv">36038</span>, <span class="dv">36039</span>, <span class="dv">36040</span>, <span class="dv">37001</span>, <span class="dv">37002</span>, <span class="dv">37003</span>),
  <span class="dt">state =</span> <span class="kw">c</span>(<span class="st">&#39;NY&#39;</span>, <span class="st">&#39;NY&#39;</span>, <span class="st">&#39;NY&#39;</span>, <span class="st">&#39;NY&#39;</span>, <span class="st">&#39;VA&#39;</span>, <span class="st">&#39;VA&#39;</span>, <span class="st">&#39;VA&#39;</span>),
  <span class="dt">population =</span> <span class="kw">c</span>(<span class="dv">3817735</span>, <span class="dv">422999</span>, <span class="dv">324920</span>, <span class="dv">143432</span>, <span class="dv">3228290</span>, <span class="dv">449499</span>, <span class="dv">383888</span>)
)
counties
<span class="co">#&gt;   county state population</span>
<span class="co">#&gt; 1  36037    NY    3817735</span>
<span class="co">#&gt; 2  36038    NY     422999</span>
<span class="co">#&gt; 3  36039    NY     324920</span>
<span class="co">#&gt; 4  36040    NY     143432</span>
<span class="co">#&gt; 5  37001    VA    3228290</span>
<span class="co">#&gt; 6  37002    VA     449499</span>
<span class="co">#&gt; 7  37003    VA     383888</span>

states &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">state =</span> <span class="kw">c</span>(<span class="st">&quot;NY&quot;</span>, <span class="st">&quot;VA&quot;</span>),
  <span class="dt">population =</span> <span class="kw">c</span>(<span class="dv">43320903</span>, <span class="dv">7173000</span>),
  <span class="dt">region =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)
)
states
<span class="co">#&gt;   state population region</span>
<span class="co">#&gt; 1    NY   43320903      1</span>
<span class="co">#&gt; 2    VA    7173000      3</span></code></pre></div>
<p>Now the ambiguity is gone. Every county has a population and a state. Every state has a population and a region. There are no missing states, no missing counties, and no conflicting definitions. The database is self-documenting. In fact, the database is now so clear that we can forget about names like county_pop and state_pop and just stick to “population.” Anyone would know which entity’s population you mean.</p>
<p>We’ll talk more about tidying data in later units.</p>
</div>
<div id="relational-data" class="section level3">
<h3><span class="header-section-number">8.2.4</span> Relational data</h3>
<p>Collectively, multiple tables of data are called <strong>relational data</strong> because it is the relations, not just the individual datasets, that are important. Note that when we say relational database here, we are referring to how the data are structured, not to the use of any fancy software.</p>
<p>The main principle of relational data is that each table is structured around the same observational unit.</p>
<ul>
<li>counties contains data on counties.</li>
<li>states contains data on states</li>
</ul>
<p>County population is a property of a county, so it lives in the county table. State population is a property of a state, so it cannot live in the county table. If we had panel data on counties, we would need separate tables for things that vary at the county level (like state) and things that vary at the county-year level (like population).</p>
</div>
<div id="keys" class="section level3">
<h3><span class="header-section-number">8.2.5</span> Keys</h3>
<p>The variables that connect each pair of tables are called <strong>keys</strong>. A key is a variable (or set of variables) that uniquely identifies an observation. It is also called a <em>unique identifier</em>.</p>
<ul>
<li>Keys are complete. They never take on missing values.</li>
<li>Keys are unique. They are never duplicated across rows of a table.</li>
</ul>
<p>In simple cases, a single variable is sufficient to identify an observation. In the example above, each county is identified with <strong>county</strong> (a numeric identifier); each state is identified with <strong>state</strong> (a two-letter string).</p>
<p>There are two types of keys:</p>
<ul>
<li><p>A <strong>primary key</strong> uniquely identifies an observation in its own table. For example, <code>counties$county</code> is a primary key because it uniquely identifies each county in the counties table.</p></li>
<li><p>A <strong>foreign key</strong> uniquely identifies an observation in another table. For example, <code>counties$state</code> is a foreign key because it appears in the counties table where it matches each county to a unique state.</p></li>
</ul>
<p>A primary key and the corresponding foreign key in another table form a <strong>relation</strong>.</p>
<p>Sometimes a table doesn’t have an explicit primary key: each row is an observation, but no combination of variables reliably identifies it. If a table lacks a primary key, it’s useful to add one.</p>
<div id="acknowledgements-1" class="section level4 unnumbered">
<h4>Acknowledgements</h4>
<p>This page is in part derived from the following sources:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://r4ds.had.co.nz">R for Data Science</a> licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/us/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0</a></p></li>
<li><p><a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">Gentzkow, Matthew and Jesse M. Shapiro. 2014. Code and Data for the Social Sciences: A Practitioner’s Guide.</a></p></li>
</ol>

</div>
</div>
</div>
<div id="importing-and-exporting" class="section level2">
<h2><span class="header-section-number">8.3</span> Importing and Exporting</h2>
<div id="importing-data" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Importing Data</h3>
<div id="find-paths-first" class="section level4 unnumbered">
<h4>Find Paths First</h4>
<p>In order to import (or read) data into R, you first have to know where it is, and how to find it.</p>
<p>First, remember that you’ll need to know the <em>current working directory</em> so that you know where R is looking for files. If you’re using R Projects, that working directory will be the top-level directory of the project.</p>
<p>Second, you’ll need to know where the data file is, relative to your working directory. If it’s stored in the <code>Data/raw/</code> folder, the relative path to your file will be <code>Data/raw/file-name.csv</code></p>
</div>
<div id="reading-tabular-data" class="section level4 unnumbered">
<h4>Reading Tabular Data</h4>
<p>The workhorse for reading into a data frame is <em>read.table()</em>, which allows any separator (CSV, tab-delimited, etc.). <em>read.csv()</em> is a special case of <em>read.table()</em> for CSV files.</p>
<p>The basic formula is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Basic CSV read: Import data with header row, values separated by &quot;,&quot;, decimals as &quot;.&quot;</span>
mydataset &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file=</span><span class="st">&quot;  &quot;</span>, <span class="dt">stringsAsFactors=</span>)</code></pre></div>
<p>Here’s a practical example, using the polityVI dataset:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#import polity</span>
polity &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/polity.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> F)
polity[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]
<span class="co">#&gt;     cyear ccode scode     country year</span>
<span class="co">#&gt; 1 7001800   700   AFG Afghanistan 1800</span>
<span class="co">#&gt; 2 7001801   700   AFG Afghanistan 1801</span>
<span class="co">#&gt; 3 7001802   700   AFG Afghanistan 1802</span>
<span class="co">#&gt; 4 7001803   700   AFG Afghanistan 1803</span>
<span class="co">#&gt; 5 7001804   700   AFG Afghanistan 1804</span></code></pre></div>
<p>We use <code>stringsAsFactors = F</code> in order to treat text columns as character vectors, not as factors. If we don’t set this, the default is that all non-numerical columns will be encoded as factors. This behavior usually makes poor sense, and is due to historical reasons. At one point in time, factors were faster than character vectors, so R’s <code>read.table()</code> set the default to read in text as factors.</p>
<p><code>read.table()</code> has a number of other options:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># For importing tabular data with maximum customizeability</span>
mydataset &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file=</span>, <span class="dt">header=</span>, <span class="dt">sep=</span>, <span class="dt">quote=</span>, <span class="dt">dec=</span>, <span class="dt">fill=</span>, <span class="dt">stringsAsFactors=</span>)</code></pre></div>
</div>
<div id="reading-excel-files" class="section level4 unnumbered">
<h4>Reading Excel Files</h4>
<p>Don’t use Microsoft Excel files (.xls or .xlsx). But if you must:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Make sure you have installed the tidyverse suite (only necessary one time)</span>
<span class="co"># install.packages(&quot;tidyverse&quot;) # Not Run</span>

<span class="co"># Load the &quot;readxl&quot; package (necessary every new R session)</span>
<span class="kw">library</span>(readxl)</code></pre></div>
<p><code>read_excel()</code> reads both <code>xls</code> and <code>xlsx</code> files and detects the format from the extension.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Basic call</span>
mydataset &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="dt">path =</span> , <span class="dt">sheet =</span> <span class="st">&quot;)</span></code></pre></div>
<p>Here’s a real example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Example with .xlsx (single sheet)</span>
air &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/airline_small.xlsx&quot;</span>, <span class="dt">sheet =</span> <span class="dv">1</span>) 
air[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]
<span class="co">#&gt; # A tibble: 5 x 5</span>
<span class="co">#&gt;    Year Month DayofMonth DayOfWeek DepTime</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  </span>
<span class="co">#&gt; 1  2005    11         22         2 1700   </span>
<span class="co">#&gt; 2  2008     1         31         4 2216   </span>
<span class="co">#&gt; 3  2005     7         17         7 905    </span>
<span class="co">#&gt; 4  2008     9         23         2 859    </span>
<span class="co">#&gt; 5  2005     3          5         6 827</span></code></pre></div>
</div>
<div id="reading-stata-.dta-files" class="section level4 unnumbered">
<h4>Reading Stata (.dta) Files</h4>
<p>There are many ways to read <code>.dta</code> files into R. I recommend using <code>haven</code> because it is part of the <code>tidyverse.</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(haven)
air.dta &lt;-<span class="st"> </span><span class="kw">read_dta</span>(<span class="st">&quot;data/airline_small.dta&quot;</span>) 
air[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]
<span class="co">#&gt; # A tibble: 5 x 5</span>
<span class="co">#&gt;    Year Month DayofMonth DayOfWeek DepTime</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  </span>
<span class="co">#&gt; 1  2005    11         22         2 1700   </span>
<span class="co">#&gt; 2  2008     1         31         4 2216   </span>
<span class="co">#&gt; 3  2005     7         17         7 905    </span>
<span class="co">#&gt; 4  2008     9         23         2 859    </span>
<span class="co">#&gt; 5  2005     3          5         6 827</span></code></pre></div>
</div>
<div id="for-really-big-data" class="section level4 unnumbered">
<h4>For Really Big Data</h4>
<p>If you have really big data, <code>read.csv()</code> will be too slow. In these cases, check out the following options:</p>
<ol style="list-style-type: decimal">
<li><code>read_csv()</code> in the <code>readr</code> package is a faster, more helpful drop-in replacement for <code>read.csv()</code> that plays well with tidyverse packages (discussed in future lessons).</li>
<li>the <code>data.table</code> package is great for reading and manipulating large datasets (orders of gigabytes or 10s of gigabytes)</li>
</ol>
</div>
</div>
<div id="exporting-data" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Exporting Data</h3>
<p>You should never go from raw data to results in one script. Typically, you’ll want to import raw data, clean it, and then export that cleaned dataset onto your computer. That cleaned dataset will then be imported into another script for analysis, in a modular fashion.</p>
<p>To export (or write) data from R onto your computer, you can create individual <code>.csv</code> files, or export many data objects into an <code>.RData</code> object.</p>
<div id="writing-a-csv-spreadsheet" class="section level4 unnumbered">
<h4>Writing a <code>csv</code> Spreadsheet</h4>
<p>To export an individual dataframe as a spreadsheet, use <code>write.csv()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Basic call</span>
<span class="kw">write.csv</span>(<span class="dt">x =</span> , <span class="dt">file =</span> , <span class="dt">row.names =</span> , <span class="dt">col.names =</span>)</code></pre></div>
<p>Let’s write the <code>air</code> dataset as a csv.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Basic call</span>
<span class="kw">write.csv</span>(air, <span class="st">&quot;data/airlines.csv&quot;</span>, <span class="dt">row.names =</span> F)</code></pre></div>
</div>
<div id="packaging-data-into-.rdata" class="section level4 unnumbered">
<h4>Packaging Data into .RData</h4>
<p>Sometimes, it’s helpful to write several dataframes at once, to be used in later analysis. To do so, we use the <code>save()</code> function to create one file containing many R data objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Basic call</span>
<span class="kw">save</span>(..., <span class="dt">file =</span> )</code></pre></div>
<p>Here’s how we can write both <code>air</code> and <code>polity</code> into one file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">save</span>(air, polity, <span class="dt">file =</span> <span class="st">&quot;data/datasets.RData&quot;</span>)</code></pre></div>
<p>We can then read these datasets back into R using <code>load()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># clear environment</span>
<span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())

<span class="co"># load datasets</span>
<span class="kw">load</span>(<span class="st">&quot;data/datasets.RData&quot;</span>)</code></pre></div>

</div>
</div>
</div>
<div id="exploring-data" class="section level2">
<h2><span class="header-section-number">8.4</span> Exploring Data</h2>
<div id="the-gapminder-dataset" class="section level3">
<h3><span class="header-section-number">8.4.1</span> The Gapminder Dataset</h3>
<p>This lesson discusses how to perform basic exploratory data analysis.</p>
<p>For this unit, we’ll be working with the “Gapminder” dataset, which is an excerpt of the data available at Gapminder.org. For each of 142 countries, the data provides values for life expectancy, GDP per capita, and population, every five years, from 1952 to 2007.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gap &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/gapminder.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> F)</code></pre></div>
</div>
<div id="structure-and-dimensions" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Structure and Dimensions</h3>
<p>The first things we want to know about a dataset are its dimensions and basic structure. For instance, we can look at the number of rows and columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># get number of rows and columns:</span>
<span class="kw">dim</span>(gap)
<span class="co">#&gt; [1] 1704    6</span></code></pre></div>
<p>We might also want to see the names of the columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># see column names</span>
<span class="kw">names</span>(gap)
<span class="co">#&gt; [1] &quot;country&quot;   &quot;year&quot;      &quot;pop&quot;       &quot;continent&quot; &quot;lifeExp&quot;   &quot;gdpPercap&quot;</span></code></pre></div>
<p>The <code>str</code> function is helpful to see an overview of the data’s structure:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># see structure of data</span>
<span class="kw">str</span>(gap)
<span class="co">#&gt; &#39;data.frame&#39;:    1704 obs. of  6 variables:</span>
<span class="co">#&gt;  $ country  : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...</span>
<span class="co">#&gt;  $ year     : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ pop      : num  8425333 9240934 10267083 11537966 13079460 ...</span>
<span class="co">#&gt;  $ continent: chr  &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ...</span>
<span class="co">#&gt;  $ lifeExp  : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ gdpPercap: num  779 821 853 836 740 ...</span></code></pre></div>
<p>Finally, I encourage you to actually peak at the data itself. The <code>head</code> function displays the first 6 rows of any dataframe.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(gap)
<span class="co">#&gt;       country year      pop continent lifeExp gdpPercap</span>
<span class="co">#&gt; 1 Afghanistan 1952  8425333      Asia    28.8       779</span>
<span class="co">#&gt; 2 Afghanistan 1957  9240934      Asia    30.3       821</span>
<span class="co">#&gt; 3 Afghanistan 1962 10267083      Asia    32.0       853</span>
<span class="co">#&gt; 4 Afghanistan 1967 11537966      Asia    34.0       836</span>
<span class="co">#&gt; 5 Afghanistan 1972 13079460      Asia    36.1       740</span>
<span class="co">#&gt; 6 Afghanistan 1977 14880372      Asia    38.4       786</span></code></pre></div>
</div>
<div id="common-alterations" class="section level3">
<h3><span class="header-section-number">8.4.3</span> Common Alterations</h3>
<p>There are some very common alterations researchers make on their data: changing column names, assigning NA values, and changing column types.</p>
<p>Note that we will cover how to perform these functions using the <code>tidyverse</code> later in the course. However, these lines are very common, so it’s good to know how they work:</p>
<ol style="list-style-type: decimal">
<li>change column names</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(gap)
<span class="co">#&gt; [1] &quot;country&quot;   &quot;year&quot;      &quot;pop&quot;       &quot;continent&quot; &quot;lifeExp&quot;   &quot;gdpPercap&quot;</span>
<span class="kw">names</span>(gap) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;pop&quot;</span>, <span class="st">&quot;continent&quot;</span>, <span class="st">&quot;life.exp&quot;</span>, <span class="st">&quot;gdp.percap&quot;</span>)
<span class="kw">str</span>(gap)
<span class="co">#&gt; &#39;data.frame&#39;:    1704 obs. of  6 variables:</span>
<span class="co">#&gt;  $ country   : chr  &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...</span>
<span class="co">#&gt;  $ year      : int  1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...</span>
<span class="co">#&gt;  $ pop       : num  8425333 9240934 10267083 11537966 13079460 ...</span>
<span class="co">#&gt;  $ continent : chr  &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; &quot;Asia&quot; ...</span>
<span class="co">#&gt;  $ life.exp  : num  28.8 30.3 32 34 36.1 ...</span>
<span class="co">#&gt;  $ gdp.percap: num  779 821 853 836 740 ...</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Change some values to <code>NA</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gap<span class="op">$</span>life.exp[gap<span class="op">$</span>life.exp <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> ] &lt;-<span class="st"> </span><span class="ot">NA</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Coerce columns to a specific type. For instance, let’s change <code>continent</code> from character to factor.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(gap<span class="op">$</span>continent)
<span class="co">#&gt;    Length     Class      Mode </span>
<span class="co">#&gt;      1704 character character</span>
gap<span class="op">$</span>continent &lt;-<span class="st"> </span><span class="kw">as.factor</span>(gap<span class="op">$</span>continent)
<span class="kw">summary</span>(gap<span class="op">$</span>continent)
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;      624      300      396      360       24</span></code></pre></div>
</div>
<div id="summary-statistics" class="section level3">
<h3><span class="header-section-number">8.4.4</span> Summary statistics</h3>
<p>We can get quick summary statistics using <code>summary</code>. Passing the entire dataframe will summarize all columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(gap)
<span class="co">#&gt;    country               year           pop              continent  </span>
<span class="co">#&gt;  Length:1704        Min.   :1952   Min.   :6.00e+04   Africa  :624  </span>
<span class="co">#&gt;  Class :character   1st Qu.:1966   1st Qu.:2.79e+06   Americas:300  </span>
<span class="co">#&gt;  Mode  :character   Median :1980   Median :7.02e+06   Asia    :396  </span>
<span class="co">#&gt;                     Mean   :1980   Mean   :2.96e+07   Europe  :360  </span>
<span class="co">#&gt;                     3rd Qu.:1993   3rd Qu.:1.96e+07   Oceania : 24  </span>
<span class="co">#&gt;                     Max.   :2007   Max.   :1.32e+09                 </span>
<span class="co">#&gt;     life.exp      gdp.percap    </span>
<span class="co">#&gt;  Min.   :23.6   Min.   :   241  </span>
<span class="co">#&gt;  1st Qu.:48.2   1st Qu.:  1202  </span>
<span class="co">#&gt;  Median :60.7   Median :  3532  </span>
<span class="co">#&gt;  Mean   :59.5   Mean   :  7215  </span>
<span class="co">#&gt;  3rd Qu.:70.8   3rd Qu.:  9325  </span>
<span class="co">#&gt;  Max.   :82.6   Max.   :113523</span></code></pre></div>
<p>Passing a column with summarize that particular column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(gap<span class="op">$</span>year)
<span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="co">#&gt;    1952    1966    1980    1980    1993    2007</span></code></pre></div>
<p>Sometimes we need to do some basic checking for the number of observations or types of observations in our dataset. To do this quickly and easily, <code>table()</code> is our friend.</p>
<p>Let’s look at the number of observations first by region, and then by both region and year.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(gap<span class="op">$</span>continent)
<span class="co">#&gt; </span>
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;      624      300      396      360       24</span>

<span class="kw">table</span>(gap<span class="op">$</span>continent, gap<span class="op">$</span>year)
<span class="co">#&gt;           </span>
<span class="co">#&gt;            1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 2002 2007</span>
<span class="co">#&gt;   Africa     52   52   52   52   52   52   52   52   52   52   52   52</span>
<span class="co">#&gt;   Americas   25   25   25   25   25   25   25   25   25   25   25   25</span>
<span class="co">#&gt;   Asia       33   33   33   33   33   33   33   33   33   33   33   33</span>
<span class="co">#&gt;   Europe     30   30   30   30   30   30   30   30   30   30   30   30</span>
<span class="co">#&gt;   Oceania     2    2    2    2    2    2    2    2    2    2    2    2</span></code></pre></div>
<p>We can even divide by the total number of rows to get proportion, percent, etc.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(gap<span class="op">$</span>continent)<span class="op">/</span><span class="kw">nrow</span>(gap)
<span class="co">#&gt; </span>
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;   0.3662   0.1761   0.2324   0.2113   0.0141</span>
<span class="kw">table</span>(gap<span class="op">$</span>continent)<span class="op">/</span><span class="kw">nrow</span>(gap)<span class="op">*</span><span class="dv">100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Africa Americas     Asia   Europe  Oceania </span>
<span class="co">#&gt;    36.62    17.61    23.24    21.13     1.41</span></code></pre></div>
</div>
<div id="review-of-subsetting" class="section level3">
<h3><span class="header-section-number">8.4.5</span> Review of Subsetting</h3>
<p>We learned about subsetting in the previous lesson. Let’s do a quick review here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Extract first 10 rows</span>
gap[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, ]
<span class="co">#&gt;        country year      pop continent life.exp gdp.percap</span>
<span class="co">#&gt; 1  Afghanistan 1952  8425333      Asia     28.8        779</span>
<span class="co">#&gt; 2  Afghanistan 1957  9240934      Asia     30.3        821</span>
<span class="co">#&gt; 3  Afghanistan 1962 10267083      Asia     32.0        853</span>
<span class="co">#&gt; 4  Afghanistan 1967 11537966      Asia     34.0        836</span>
<span class="co">#&gt; 5  Afghanistan 1972 13079460      Asia     36.1        740</span>
<span class="co">#&gt; 6  Afghanistan 1977 14880372      Asia     38.4        786</span>
<span class="co">#&gt; 7  Afghanistan 1982 12881816      Asia     39.9        978</span>
<span class="co">#&gt; 8  Afghanistan 1987 13867957      Asia     40.8        852</span>
<span class="co">#&gt; 9  Afghanistan 1992 16317921      Asia     41.7        649</span>
<span class="co">#&gt; 10 Afghanistan 1997 22227415      Asia     41.8        635</span>

<span class="co"># Extract county year for first 10 rows</span>
gap[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="kw">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>)]
<span class="co">#&gt;        country year</span>
<span class="co">#&gt; 1  Afghanistan 1952</span>
<span class="co">#&gt; 2  Afghanistan 1957</span>
<span class="co">#&gt; 3  Afghanistan 1962</span>
<span class="co">#&gt; 4  Afghanistan 1967</span>
<span class="co">#&gt; 5  Afghanistan 1972</span>
<span class="co">#&gt; 6  Afghanistan 1977</span>
<span class="co">#&gt; 7  Afghanistan 1982</span>
<span class="co">#&gt; 8  Afghanistan 1987</span>
<span class="co">#&gt; 9  Afghanistan 1992</span>
<span class="co">#&gt; 10 Afghanistan 1997</span>

<span class="co"># Extract observations in Africa</span>
africa &lt;-<span class="st"> </span>gap[gap<span class="op">$</span>continent<span class="op">==</span><span class="st">&quot;Africa&quot;</span>,]

<span class="co"># Find average life expectancy for observations in Africa</span>
<span class="kw">mean</span>(gap<span class="op">$</span>life.exp[gap<span class="op">$</span>continent<span class="op">==</span><span class="st">&quot;Africa&quot;</span>])
<span class="co">#&gt; [1] 48.9</span>
<span class="kw">mean</span>(africa<span class="op">$</span>life.exp)
<span class="co">#&gt; [1] 48.9</span></code></pre></div>
</div>
<div id="basic-plotting" class="section level3">
<h3><span class="header-section-number">8.4.6</span> Basic Plotting</h3>
<p>We’ll go into plotting in greater detail soon, but let’s touch on two common graphs. First, a scatterplot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(gap<span class="op">$</span>life.exp <span class="op">~</span><span class="st"> </span>gap<span class="op">$</span>gdp.percap)</code></pre></div>
<p><img src="site1_files/figure-html/unnamed-chunk-224-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Finally, let’s quickly take a look at a histogram of the variable <code>nyt.count</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(gap<span class="op">$</span>life.exp, <span class="dt">breaks =</span> <span class="dv">100</span>)</code></pre></div>
<p><img src="site1_files/figure-html/unnamed-chunk-225-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="challenges-10" class="section level3">
<h3><span class="header-section-number">8.4.7</span> Challenges</h3>
<div id="challenge-1.-read-the-polity-dataset." class="section level4 unnumbered">
<h4>Challenge 1. Read the <code>polity</code> dataset.</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">polity &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/polity.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> F)</code></pre></div>
</div>
<div id="challenge-2.-report-the-number-and-names-of-each-variable-in-the-dataset." class="section level4 unnumbered">
<h4>Challenge 2. Report the number and names of each variable in the dataset.</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(polity)
<span class="co">#&gt; [1] 16727    36</span>
<span class="kw">names</span>(polity)
<span class="co">#&gt;  [1] &quot;cyear&quot;    &quot;ccode&quot;    &quot;scode&quot;    &quot;country&quot;  &quot;year&quot;     &quot;flag&quot;    </span>
<span class="co">#&gt;  [7] &quot;fragment&quot; &quot;democ&quot;    &quot;autoc&quot;    &quot;polity&quot;   &quot;polity2&quot;  &quot;durable&quot; </span>
<span class="co">#&gt; [13] &quot;xrreg&quot;    &quot;xrcomp&quot;   &quot;xropen&quot;   &quot;xconst&quot;   &quot;parreg&quot;   &quot;parcomp&quot; </span>
<span class="co">#&gt; [19] &quot;exrec&quot;    &quot;exconst&quot;  &quot;polcomp&quot;  &quot;prior&quot;    &quot;emonth&quot;   &quot;eday&quot;    </span>
<span class="co">#&gt; [25] &quot;eyear&quot;    &quot;eprec&quot;    &quot;interim&quot;  &quot;bmonth&quot;   &quot;bday&quot;     &quot;byear&quot;   </span>
<span class="co">#&gt; [31] &quot;bprec&quot;    &quot;post&quot;     &quot;change&quot;   &quot;d4&quot;       &quot;sf&quot;       &quot;regtrans&quot;</span></code></pre></div>
</div>
<div id="challenge-3.-extract-the-5th-row-from-the-polity-dataset." class="section level4 unnumbered">
<h4>Challenge 3. Extract the 5th row from the polity dataset.</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">polity[<span class="dv">5</span>, ]
<span class="co">#&gt;     cyear ccode scode     country year flag fragment democ autoc polity</span>
<span class="co">#&gt; 5 7001804   700   AFG Afghanistan 1804    0       NA     1     7     -6</span>
<span class="co">#&gt;   polity2 durable xrreg xrcomp xropen xconst parreg parcomp exrec exconst</span>
<span class="co">#&gt; 5      -6      NA     3      1      1      1      3       3     1       1</span>
<span class="co">#&gt;   polcomp prior emonth eday eyear eprec interim bmonth bday byear bprec</span>
<span class="co">#&gt; 5       6    NA     NA   NA    NA    NA      NA     NA   NA    NA    NA</span>
<span class="co">#&gt;   post change d4 sf regtrans</span>
<span class="co">#&gt; 5   NA     NA NA NA       NA</span></code></pre></div>
</div>
<div id="challenge-4.-extract-the-last-row-from-the-polity-dataset." class="section level4 unnumbered">
<h4>Challenge 4. Extract the last row from the polity dataset.</h4>
</div>
<div id="challenge-5.-count-the-percentage-of-observations-with-a-value-of-polity2-greater-than-8-in-the-gapminder-dataset." class="section level4 unnumbered">
<h4>Challenge 5. Count the percentage of observations with a value of <code>polity2</code> greater than 8 in the gapminder dataset.</h4>
<p>(Hint: if using sum(), read the help file..)</p>
</div>
<div id="challenge-6.-set-all-of-the-values-of-democ-and-autac-columns-less-than--10-to-na." class="section level4 unnumbered">
<h4>Challenge 6. Set all of the values of <code>democ</code> and <code>autac</code> columns less than -10 to NA.</h4>
<p>(Hint: You should first copy the <code>polity</code> object and work on the copy so that the original dataset is unchanged (or just read the data into R again afterwards to get a clean copy)</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="subsetting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rochelleterman/plsc-31101/edit/master/06_Data-Basics/06-0_Workflow.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["https://github.com/rochelleterman/plsc-31101/raw/master/06_Data-Basics/06-0_Workflow.Rmd"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
