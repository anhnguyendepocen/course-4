<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Data Transformation | PLSC 31101: Computational Tools for Social Science</title>
  <meta name="description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Data Transformation | PLSC 31101: Computational Tools for Social Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://rochelleterman.github.io/plsc-31101/" />
  
  <meta property="og:description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="github-repo" content="rochelleterman/plsc-31101" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Data Transformation | PLSC 31101: Computational Tools for Social Science" />
  
  <meta name="twitter:description" content="This book contains course notes and other materials for PLSC 31101." />
  

<meta name="author" content="Rochelle Terman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="working-with-data.html"/>
<link rel="next" href="tidying-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PLSC 31101</a></li>

<li class="divider"></li>
<li class="part"><span><b>I Before Class</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.1</b> Course Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#who-should-take-this-course"><i class="fa fa-check"></i><b>1.2</b> Who should take this course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#requirements-and-evaluation"><i class="fa fa-check"></i><b>1.3</b> Requirements and Evaluation</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#activities-and-materials"><i class="fa fa-check"></i><b>1.4</b> Activities and Materials</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#curriculum-outline-schedule"><i class="fa fa-check"></i><b>1.5</b> Curriculum Outline / Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#r"><i class="fa fa-check"></i><b>2.1</b> R</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#r-studio"><i class="fa fa-check"></i><b>2.2</b> R Studio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a></li>
<li class="chapter" data-level="2.4" data-path="installation.html"><a href="installation.html#latex"><i class="fa fa-check"></i><b>2.4</b> LaTex</a></li>
<li class="chapter" data-level="2.5" data-path="installation.html"><a href="installation.html#the-bash-shell"><i class="fa fa-check"></i><b>2.5</b> The Bash Shell</a></li>
<li class="chapter" data-level="2.6" data-path="installation.html"><a href="installation.html#git"><i class="fa fa-check"></i><b>2.6</b> Git</a></li>
<li class="chapter" data-level="2.7" data-path="installation.html"><a href="installation.html#other-helpful-tools"><i class="fa fa-check"></i><b>2.7</b> Other helpful tools</a></li>
<li class="chapter" data-level="2.8" data-path="installation.html"><a href="installation.html#testing-your-installation"><i class="fa fa-check"></i><b>2.8</b> Testing your installation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="homework-rubric.html"><a href="homework-rubric.html"><i class="fa fa-check"></i><b>3</b> Homework Rubric</a></li>
<li class="part"><span><b>II Course Notes</b></span></li>
<li class="chapter" data-level="4" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>4</b> Introduction</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction.html"><a href="introduction.html#the-motivation"><i class="fa fa-check"></i><b>4.1</b> The Motivation</a></li>
<li class="chapter" data-level="4.2" data-path="introduction.html"><a href="introduction.html#about-this-class"><i class="fa fa-check"></i><b>4.2</b> About This Class</a></li>
<li class="chapter" data-level="4.3" data-path="introduction.html"><a href="introduction.html#learning-how-to-program"><i class="fa fa-check"></i><b>4.3</b> Learning How to Program</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>5</b> R Basics</a><ul>
<li class="chapter" data-level="5.1" data-path="r-basics.html"><a href="r-basics.html#what-is-r"><i class="fa fa-check"></i><b>5.1</b> What is R?</a></li>
<li class="chapter" data-level="5.2" data-path="r-basics.html"><a href="r-basics.html#r-studio-1"><i class="fa fa-check"></i><b>5.2</b> R Studio</a><ul>
<li class="chapter" data-level="5.2.1" data-path="r-basics.html"><a href="r-basics.html#console"><i class="fa fa-check"></i><b>5.2.1</b> Console</a></li>
<li class="chapter" data-level="5.2.2" data-path="r-basics.html"><a href="r-basics.html#scripts"><i class="fa fa-check"></i><b>5.2.2</b> Scripts</a></li>
<li class="chapter" data-level="5.2.3" data-path="r-basics.html"><a href="r-basics.html#running-code"><i class="fa fa-check"></i><b>5.2.3</b> Running code</a></li>
<li class="chapter" data-level="5.2.4" data-path="r-basics.html"><a href="r-basics.html#comments"><i class="fa fa-check"></i><b>5.2.4</b> Comments</a></li>
<li class="chapter" data-level="5.2.5" data-path="r-basics.html"><a href="r-basics.html#diagnostics-and-errors"><i class="fa fa-check"></i><b>5.2.5</b> Diagnostics and errors</a></li>
<li class="chapter" data-level="5.2.6" data-path="r-basics.html"><a href="r-basics.html#errors-messages-and-warnings"><i class="fa fa-check"></i><b>5.2.6</b> Errors, Messages, and Warnings</a></li>
<li class="chapter" data-level="5.2.7" data-path="r-basics.html"><a href="r-basics.html#r-environment"><i class="fa fa-check"></i><b>5.2.7</b> R Environment</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="r-basics.html"><a href="r-basics.html#r-packages-1"><i class="fa fa-check"></i><b>5.3</b> R Packages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="r-basics.html"><a href="r-basics.html#installing-packages"><i class="fa fa-check"></i><b>5.3.1</b> Installing Packages</a></li>
<li class="chapter" data-level="5.3.2" data-path="r-basics.html"><a href="r-basics.html#loading-packages"><i class="fa fa-check"></i><b>5.3.2</b> Loading Packages</a></li>
<li class="chapter" data-level="5.3.3" data-path="r-basics.html"><a href="r-basics.html#challenges"><i class="fa fa-check"></i><b>5.3.3</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="r-basics.html"><a href="r-basics.html#r-markdown"><i class="fa fa-check"></i><b>5.4</b> R Markdown</a><ul>
<li class="chapter" data-level="5.4.1" data-path="r-basics.html"><a href="r-basics.html#yaml-header"><i class="fa fa-check"></i><b>5.4.1</b> YAML header</a></li>
<li class="chapter" data-level="5.4.2" data-path="r-basics.html"><a href="r-basics.html#markdown"><i class="fa fa-check"></i><b>5.4.2</b> Markdown</a></li>
<li class="chapter" data-level="5.4.3" data-path="r-basics.html"><a href="r-basics.html#code-chunks"><i class="fa fa-check"></i><b>5.4.3</b> Code Chunks</a></li>
<li class="chapter" data-level="5.4.4" data-path="r-basics.html"><a href="r-basics.html#knitting"><i class="fa fa-check"></i><b>5.4.4</b> Knitting</a></li>
<li class="chapter" data-level="5.4.5" data-path="r-basics.html"><a href="r-basics.html#cheatsheets-and-other-resources"><i class="fa fa-check"></i><b>5.4.5</b> Cheatsheets and Other Resources</a></li>
<li class="chapter" data-level="5.4.6" data-path="r-basics.html"><a href="r-basics.html#challenges-1"><i class="fa fa-check"></i><b>5.4.6</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-syntax.html"><a href="r-syntax.html"><i class="fa fa-check"></i><b>6</b> R Syntax</a><ul>
<li class="chapter" data-level="6.1" data-path="r-syntax.html"><a href="r-syntax.html#variables"><i class="fa fa-check"></i><b>6.1</b> Variables</a><ul>
<li class="chapter" data-level="6.1.1" data-path="r-syntax.html"><a href="r-syntax.html#arithmetic"><i class="fa fa-check"></i><b>6.1.1</b> Arithmetic</a></li>
<li class="chapter" data-level="6.1.2" data-path="r-syntax.html"><a href="r-syntax.html#assigning-variables"><i class="fa fa-check"></i><b>6.1.2</b> Assigning Variables</a></li>
<li class="chapter" data-level="6.1.3" data-path="r-syntax.html"><a href="r-syntax.html#variable-names"><i class="fa fa-check"></i><b>6.1.3</b> Variable Names</a></li>
<li class="chapter" data-level="6.1.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-2"><i class="fa fa-check"></i><b>6.1.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="r-syntax.html"><a href="r-syntax.html#functions"><i class="fa fa-check"></i><b>6.2</b> Functions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="r-syntax.html"><a href="r-syntax.html#arguments"><i class="fa fa-check"></i><b>6.2.1</b> Arguments</a></li>
<li class="chapter" data-level="6.2.2" data-path="r-syntax.html"><a href="r-syntax.html#store-function-output"><i class="fa fa-check"></i><b>6.2.2</b> Store Function Output</a></li>
<li class="chapter" data-level="6.2.3" data-path="r-syntax.html"><a href="r-syntax.html#argument-restrictions-and-defaults"><i class="fa fa-check"></i><b>6.2.3</b> Argument Restrictions and Defaults</a></li>
<li class="chapter" data-level="6.2.4" data-path="r-syntax.html"><a href="r-syntax.html#documentation-and-help-files"><i class="fa fa-check"></i><b>6.2.4</b> Documentation and Help Files</a></li>
<li class="chapter" data-level="6.2.5" data-path="r-syntax.html"><a href="r-syntax.html#challenges-3"><i class="fa fa-check"></i><b>6.2.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="r-syntax.html"><a href="r-syntax.html#data-types"><i class="fa fa-check"></i><b>6.3</b> Data Types</a><ul>
<li class="chapter" data-level="6.3.1" data-path="r-syntax.html"><a href="r-syntax.html#whats-that-type"><i class="fa fa-check"></i><b>6.3.1</b> What’s that Type?</a></li>
<li class="chapter" data-level="6.3.2" data-path="r-syntax.html"><a href="r-syntax.html#coercion"><i class="fa fa-check"></i><b>6.3.2</b> Coercion</a></li>
<li class="chapter" data-level="6.3.3" data-path="r-syntax.html"><a href="r-syntax.html#other-objects"><i class="fa fa-check"></i><b>6.3.3</b> Other Objects</a></li>
<li class="chapter" data-level="6.3.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-4"><i class="fa fa-check"></i><b>6.3.4</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html"><i class="fa fa-check"></i><b>7</b> Data Classes and Structures</a><ul>
<li class="chapter" data-level="7.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#vectors"><i class="fa fa-check"></i><b>7.1</b> Vectors</a><ul>
<li class="chapter" data-level="7.1.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-vectors"><i class="fa fa-check"></i><b>7.1.1</b> Creating Vectors</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-a-vector"><i class="fa fa-check"></i><b>7.1.2</b> Naming a Vector</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#calculations-on-vectors"><i class="fa fa-check"></i><b>7.1.3</b> Calculations on Vectors</a></li>
<li class="chapter" data-level="7.1.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#types-of-vectors"><i class="fa fa-check"></i><b>7.1.4</b> Types of Vectors</a></li>
<li class="chapter" data-level="7.1.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercion-1"><i class="fa fa-check"></i><b>7.1.5</b> Coercion</a></li>
<li class="chapter" data-level="7.1.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-5"><i class="fa fa-check"></i><b>7.1.6</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#lists"><i class="fa fa-check"></i><b>7.2</b> Lists</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-lists"><i class="fa fa-check"></i><b>7.2.1</b> Creating Lists</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-lists"><i class="fa fa-check"></i><b>7.2.2</b> Naming Lists</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#list-structure"><i class="fa fa-check"></i><b>7.2.3</b> List Structure</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-6"><i class="fa fa-check"></i><b>7.2.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors"><i class="fa fa-check"></i><b>7.3</b> Factors</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-factors"><i class="fa fa-check"></i><b>7.3.1</b> Creating Factors</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#summarizing-a-factor"><i class="fa fa-check"></i><b>7.3.2</b> Summarizing a Factor</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#changing-factor-levels"><i class="fa fa-check"></i><b>7.3.3</b> Changing Factor Levels</a></li>
<li class="chapter" data-level="7.3.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors-are-integers"><i class="fa fa-check"></i><b>7.3.4</b> Factors are Integers</a></li>
<li class="chapter" data-level="7.3.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-7"><i class="fa fa-check"></i><b>7.3.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrices"><i class="fa fa-check"></i><b>7.4</b> Matrices</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-matrices"><i class="fa fa-check"></i><b>7.4.1</b> Creating Matrices</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-dimensions"><i class="fa fa-check"></i><b>7.4.2</b> Matrix Dimensions</a></li>
<li class="chapter" data-level="7.4.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-names"><i class="fa fa-check"></i><b>7.4.3</b> Matrix Names</a></li>
<li class="chapter" data-level="7.4.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenge"><i class="fa fa-check"></i><b>7.4.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#dataframes"><i class="fa fa-check"></i><b>7.5</b> Dataframes</a><ul>
<li class="chapter" data-level="7.5.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-dataframes"><i class="fa fa-check"></i><b>7.5.1</b> Creating Dataframes</a></li>
<li class="chapter" data-level="7.5.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#the-structure-of-dataframes"><i class="fa fa-check"></i><b>7.5.2</b> The Structure of Dataframes</a></li>
<li class="chapter" data-level="7.5.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-dataframes"><i class="fa fa-check"></i><b>7.5.3</b> Naming Dataframes</a></li>
<li class="chapter" data-level="7.5.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercing-dataframes"><i class="fa fa-check"></i><b>7.5.4</b> Coercing Dataframes</a></li>
<li class="chapter" data-level="7.5.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-8"><i class="fa fa-check"></i><b>7.5.5</b> Challenges</a></li>
<li class="chapter" data-level="7.5.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#quiz"><i class="fa fa-check"></i><b>7.5.6</b> Quiz</a></li>
<li class="chapter" data-level="7.5.7" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#data-structure-answers"><i class="fa fa-check"></i><b>7.5.7</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>8</b> Subsetting</a><ul>
<li class="chapter" data-level="8.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-vectors"><i class="fa fa-check"></i><b>8.1</b> Subsetting Vectors</a><ul>
<li class="chapter" data-level="8.1.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-types"><i class="fa fa-check"></i><b>8.1.1</b> Subsetting Types</a></li>
<li class="chapter" data-level="8.1.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting"><i class="fa fa-check"></i><b>8.1.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="8.1.3" data-path="subsetting.html"><a href="subsetting.html#challenge-1"><i class="fa fa-check"></i><b>8.1.3</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="subsetting.html"><a href="subsetting.html#subsetting-lists"><i class="fa fa-check"></i><b>8.2</b> Subsetting Lists</a><ul>
<li class="chapter" data-level="8.2.1" data-path="subsetting.html"><a href="subsetting.html#with"><i class="fa fa-check"></i><b>8.2.1</b> With <code>[</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="subsetting.html"><a href="subsetting.html#with-1"><i class="fa fa-check"></i><b>8.2.2</b> With <code>[[</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="subsetting.html"><a href="subsetting.html#with-2"><i class="fa fa-check"></i><b>8.2.3</b> with <code>$</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="subsetting.html"><a href="subsetting.html#challenge-2"><i class="fa fa-check"></i><b>8.2.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="subsetting.html"><a href="subsetting.html#subsetting-matrices"><i class="fa fa-check"></i><b>8.3</b> Subsetting Matrices</a></li>
<li class="chapter" data-level="8.4" data-path="subsetting.html"><a href="subsetting.html#subsetting-dataframes"><i class="fa fa-check"></i><b>8.4</b> Subsetting Dataframes</a><ul>
<li class="chapter" data-level="8.4.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-names-and"><i class="fa fa-check"></i><b>8.4.1</b> Subsetting Names and <code>$</code></a></li>
<li class="chapter" data-level="8.4.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting-1"><i class="fa fa-check"></i><b>8.4.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="8.4.3" data-path="subsetting.html"><a href="subsetting.html#list-like-and-matrix-like-subsetting"><i class="fa fa-check"></i><b>8.4.3</b> List-Like and Matrix-Like Subsetting</a></li>
<li class="chapter" data-level="8.4.4" data-path="subsetting.html"><a href="subsetting.html#challenges-9"><i class="fa fa-check"></i><b>8.4.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="subsetting.html"><a href="subsetting.html#sub-assignment"><i class="fa fa-check"></i><b>8.5</b> Sub-assignment</a><ul>
<li class="chapter" data-level="8.5.1" data-path="subsetting.html"><a href="subsetting.html#basics-of-sub-assignment"><i class="fa fa-check"></i><b>8.5.1</b> Basics of Sub-assignment</a></li>
<li class="chapter" data-level="8.5.2" data-path="subsetting.html"><a href="subsetting.html#recycling"><i class="fa fa-check"></i><b>8.5.2</b> Recycling</a></li>
<li class="chapter" data-level="8.5.3" data-path="subsetting.html"><a href="subsetting.html#applications"><i class="fa fa-check"></i><b>8.5.3</b> Applications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="working-with-data.html"><a href="working-with-data.html"><i class="fa fa-check"></i><b>9</b> Working with Data</a><ul>
<li class="chapter" data-level="9.1" data-path="working-with-data.html"><a href="working-with-data.html#project-workflow"><i class="fa fa-check"></i><b>9.1</b> Project Workflow</a><ul>
<li class="chapter" data-level="9.1.1" data-path="working-with-data.html"><a href="working-with-data.html#store-analyses-in-scripts-not-workspaces."><i class="fa fa-check"></i><b>9.1.1</b> Store Analyses in Scripts, Not Workspaces.</a></li>
<li class="chapter" data-level="9.1.2" data-path="working-with-data.html"><a href="working-with-data.html#working-directories-and-paths"><i class="fa fa-check"></i><b>9.1.2</b> Working Directories and Paths</a></li>
<li class="chapter" data-level="9.1.3" data-path="working-with-data.html"><a href="working-with-data.html#r-projects"><i class="fa fa-check"></i><b>9.1.3</b> R Projects</a></li>
<li class="chapter" data-level="9.1.4" data-path="working-with-data.html"><a href="working-with-data.html#file-organization"><i class="fa fa-check"></i><b>9.1.4</b> File Organization</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="working-with-data.html"><a href="working-with-data.html#introduction-to-data"><i class="fa fa-check"></i><b>9.2</b> Introduction to Data</a><ul>
<li class="chapter" data-level="9.2.1" data-path="working-with-data.html"><a href="working-with-data.html#wheres-my-data"><i class="fa fa-check"></i><b>9.2.1</b> Where’s my data?</a></li>
<li class="chapter" data-level="9.2.2" data-path="working-with-data.html"><a href="working-with-data.html#data-storage"><i class="fa fa-check"></i><b>9.2.2</b> Data Storage</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="working-with-data.html"><a href="working-with-data.html#importing-and-exporting"><i class="fa fa-check"></i><b>9.3</b> Importing and Exporting</a><ul>
<li class="chapter" data-level="9.3.1" data-path="working-with-data.html"><a href="working-with-data.html#importing-data"><i class="fa fa-check"></i><b>9.3.1</b> Importing Data</a></li>
<li class="chapter" data-level="9.3.2" data-path="working-with-data.html"><a href="working-with-data.html#exporting-data"><i class="fa fa-check"></i><b>9.3.2</b> Exporting Data</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="working-with-data.html"><a href="working-with-data.html#exploring-data"><i class="fa fa-check"></i><b>9.4</b> Exploring Data</a><ul>
<li class="chapter" data-level="9.4.1" data-path="working-with-data.html"><a href="working-with-data.html#the-gapminder-dataset"><i class="fa fa-check"></i><b>9.4.1</b> The Gapminder Dataset</a></li>
<li class="chapter" data-level="9.4.2" data-path="working-with-data.html"><a href="working-with-data.html#structure-and-dimensions"><i class="fa fa-check"></i><b>9.4.2</b> Structure and Dimensions</a></li>
<li class="chapter" data-level="9.4.3" data-path="working-with-data.html"><a href="working-with-data.html#common-alterations"><i class="fa fa-check"></i><b>9.4.3</b> Common Alterations</a></li>
<li class="chapter" data-level="9.4.4" data-path="working-with-data.html"><a href="working-with-data.html#summary-statistics"><i class="fa fa-check"></i><b>9.4.4</b> Summary statistics</a></li>
<li class="chapter" data-level="9.4.5" data-path="working-with-data.html"><a href="working-with-data.html#review-of-subsetting"><i class="fa fa-check"></i><b>9.4.5</b> Review of Subsetting</a></li>
<li class="chapter" data-level="9.4.6" data-path="working-with-data.html"><a href="working-with-data.html#basic-plotting"><i class="fa fa-check"></i><b>9.4.6</b> Basic Plotting</a></li>
<li class="chapter" data-level="9.4.7" data-path="working-with-data.html"><a href="working-with-data.html#challenges-10"><i class="fa fa-check"></i><b>9.4.7</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>10</b> Data Transformation</a><ul>
<li class="chapter" data-level="10.1" data-path="data-transformation.html"><a href="data-transformation.html#introduction-1"><i class="fa fa-check"></i><b>10.1</b> Introduction</a><ul>
<li class="chapter" data-level="10.1.1" data-path="data-transformation.html"><a href="data-transformation.html#tidyverse"><i class="fa fa-check"></i><b>10.1.1</b> <code>tidyverse</code></a></li>
<li class="chapter" data-level="10.1.2" data-path="data-transformation.html"><a href="data-transformation.html#gapminder"><i class="fa fa-check"></i><b>10.1.2</b> Gapminder</a></li>
<li class="chapter" data-level="10.1.3" data-path="data-transformation.html"><a href="data-transformation.html#why-dplyr"><i class="fa fa-check"></i><b>10.1.3</b> Why <code>dplyr</code>?</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-transformation.html"><a href="data-transformation.html#dplyr-functions"><i class="fa fa-check"></i><b>10.2</b> <code>dplyr</code> Functions</a><ul>
<li class="chapter" data-level="10.2.1" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>10.2.1</b> Select Columns with <code>select</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="data-transformation.html"><a href="data-transformation.html#the-pipe"><i class="fa fa-check"></i><b>10.2.2</b> The Pipe</a></li>
<li class="chapter" data-level="10.2.3" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>10.2.3</b> Filter Rows with <code>filter</code></a></li>
<li class="chapter" data-level="10.2.4" data-path="data-transformation.html"><a href="data-transformation.html#calculate-across-groups-with-group_by"><i class="fa fa-check"></i><b>10.2.4</b> Calculate Across Groups with <code>group_by</code></a></li>
<li class="chapter" data-level="10.2.5" data-path="data-transformation.html"><a href="data-transformation.html#summarize-across-groups-with-summarize"><i class="fa fa-check"></i><b>10.2.5</b> Summarize Across Groups with <code>summarize</code></a></li>
<li class="chapter" data-level="10.2.6" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>10.2.6</b> Add New Variables with <code>mutate</code></a></li>
<li class="chapter" data-level="10.2.7" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>10.2.7</b> Arrange Rows with <code>arrange</code></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-transformation.html"><a href="data-transformation.html#dplyr-and-non-standard-evaluation"><i class="fa fa-check"></i><b>10.3</b> <code>dplyr</code> and “Non-Standard Evaluation”</a></li>
<li class="chapter" data-level="10.4" data-path="data-transformation.html"><a href="data-transformation.html#challenges-11"><i class="fa fa-check"></i><b>10.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>11</b> Tidying Data</a><ul>
<li class="chapter" data-level="11.1" data-path="tidying-data.html"><a href="tidying-data.html#wide-vs.long-formats"><i class="fa fa-check"></i><b>11.1</b> Wide vs. Long Formats</a></li>
<li class="chapter" data-level="11.2" data-path="tidying-data.html"><a href="tidying-data.html#tidying-the-gapminder-data"><i class="fa fa-check"></i><b>11.2</b> Tidying the Gapminder Data</a></li>
<li class="chapter" data-level="11.3" data-path="tidying-data.html"><a href="tidying-data.html#tidyr-functions"><i class="fa fa-check"></i><b>11.3</b> <code>tidyr</code> Functions</a><ul>
<li class="chapter" data-level="11.3.1" data-path="tidying-data.html"><a href="tidying-data.html#gather"><i class="fa fa-check"></i><b>11.3.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="tidying-data.html"><a href="tidying-data.html#separate"><i class="fa fa-check"></i><b>11.3.2</b> <code>separate</code></a></li>
<li class="chapter" data-level="11.3.3" data-path="tidying-data.html"><a href="tidying-data.html#spread"><i class="fa fa-check"></i><b>11.3.3</b> <code>spread</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="tidying-data.html"><a href="tidying-data.html#more-tidyverse"><i class="fa fa-check"></i><b>11.4</b> More <code>tidyverse</code></a></li>
<li class="chapter" data-level="11.5" data-path="tidying-data.html"><a href="tidying-data.html#challenges-12"><i class="fa fa-check"></i><b>11.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>12</b> Relational Data</a><ul>
<li class="chapter" data-level="12.1" data-path="relational-data.html"><a href="relational-data.html#why-relational-data"><i class="fa fa-check"></i><b>12.1</b> Why Relational Data</a></li>
<li class="chapter" data-level="12.2" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>12.2</b> Keys</a></li>
<li class="chapter" data-level="12.3" data-path="relational-data.html"><a href="relational-data.html#joins"><i class="fa fa-check"></i><b>12.3</b> Joins</a></li>
<li class="chapter" data-level="12.4" data-path="relational-data.html"><a href="relational-data.html#defining-keys"><i class="fa fa-check"></i><b>12.4</b> Defining Keys</a></li>
<li class="chapter" data-level="12.5" data-path="relational-data.html"><a href="relational-data.html#duplicate-keys"><i class="fa fa-check"></i><b>12.5</b> Duplicate Keys</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>13</b> Plotting</a><ul>
<li class="chapter" data-level="13.1" data-path="plotting.html"><a href="plotting.html#the-dataset"><i class="fa fa-check"></i><b>13.1</b> The Dataset</a></li>
<li class="chapter" data-level="13.2" data-path="plotting.html"><a href="plotting.html#r-base-graphics"><i class="fa fa-check"></i><b>13.2</b> R Base Graphics</a><ul>
<li class="chapter" data-level="13.2.1" data-path="plotting.html"><a href="plotting.html#scatter-and-line-plots"><i class="fa fa-check"></i><b>13.2.1</b> Scatter and Line Plots</a></li>
<li class="chapter" data-level="13.2.2" data-path="plotting.html"><a href="plotting.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>13.2.2</b> Histograms and Density Plots</a></li>
<li class="chapter" data-level="13.2.3" data-path="plotting.html"><a href="plotting.html#labels"><i class="fa fa-check"></i><b>13.2.3</b> Labels</a></li>
<li class="chapter" data-level="13.2.4" data-path="plotting.html"><a href="plotting.html#axis-and-size-scaling"><i class="fa fa-check"></i><b>13.2.4</b> Axis and Size Scaling</a></li>
<li class="chapter" data-level="13.2.5" data-path="plotting.html"><a href="plotting.html#graphical-parameters"><i class="fa fa-check"></i><b>13.2.5</b> Graphical Parameters</a></li>
<li class="chapter" data-level="13.2.6" data-path="plotting.html"><a href="plotting.html#annotations-reference-lines-and-legends"><i class="fa fa-check"></i><b>13.2.6</b> Annotations, Reference Lines, and Legends</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="plotting.html"><a href="plotting.html#ggplot2"><i class="fa fa-check"></i><b>13.3</b> ggplot2</a><ul>
<li class="chapter" data-level="13.3.1" data-path="plotting.html"><a href="plotting.html#grammar"><i class="fa fa-check"></i><b>13.3.1</b> Grammar</a></li>
<li class="chapter" data-level="13.3.2" data-path="plotting.html"><a href="plotting.html#anatomy-of-aes"><i class="fa fa-check"></i><b>13.3.2</b> Anatomy of <code>aes</code></a></li>
<li class="chapter" data-level="13.3.3" data-path="plotting.html"><a href="plotting.html#layers"><i class="fa fa-check"></i><b>13.3.3</b> Layers</a></li>
<li class="chapter" data-level="13.3.4" data-path="plotting.html"><a href="plotting.html#labels-1"><i class="fa fa-check"></i><b>13.3.4</b> Labels</a></li>
<li class="chapter" data-level="13.3.5" data-path="plotting.html"><a href="plotting.html#transformations-and-stats"><i class="fa fa-check"></i><b>13.3.5</b> Transformations and Stats</a></li>
<li class="chapter" data-level="13.3.6" data-path="plotting.html"><a href="plotting.html#facets"><i class="fa fa-check"></i><b>13.3.6</b> Facets</a></li>
<li class="chapter" data-level="13.3.7" data-path="plotting.html"><a href="plotting.html#putting-everything-together"><i class="fa fa-check"></i><b>13.3.7</b> Putting Everything Together</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="plotting.html"><a href="plotting.html#saving-plots"><i class="fa fa-check"></i><b>13.4</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="statistical-inferences.html"><a href="statistical-inferences.html"><i class="fa fa-check"></i><b>14</b> Statistical Inferences</a><ul>
<li class="chapter" data-level="14.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-distributions"><i class="fa fa-check"></i><b>14.1</b> Statistical Distributions</a><ul>
<li class="chapter" data-level="14.1.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#sampling-and-simulation"><i class="fa fa-check"></i><b>14.1.1</b> Sampling and Simulation</a></li>
<li class="chapter" data-level="14.1.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#random-seeds"><i class="fa fa-check"></i><b>14.1.2</b> Random Seeds</a></li>
<li class="chapter" data-level="14.1.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-13"><i class="fa fa-check"></i><b>14.1.3</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#inferences-and-regressions"><i class="fa fa-check"></i><b>14.2</b> Inferences and Regressions</a><ul>
<li class="chapter" data-level="14.2.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-tests"><i class="fa fa-check"></i><b>14.2.1</b> Statistical Tests</a></li>
<li class="chapter" data-level="14.2.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regressions-and-linear-models"><i class="fa fa-check"></i><b>14.2.2</b> Regressions and Linear Models</a></li>
<li class="chapter" data-level="14.2.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regression-output"><i class="fa fa-check"></i><b>14.2.3</b> Regression Output</a></li>
<li class="chapter" data-level="14.2.4" data-path="statistical-inferences.html"><a href="statistical-inferences.html#interactions"><i class="fa fa-check"></i><b>14.2.4</b> Interactions</a></li>
<li class="chapter" data-level="14.2.5" data-path="statistical-inferences.html"><a href="statistical-inferences.html#formatting-regression-tables"><i class="fa fa-check"></i><b>14.2.5</b> Formatting Regression Tables</a></li>
<li class="chapter" data-level="14.2.6" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-14"><i class="fa fa-check"></i><b>14.2.6</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>15</b> Strings and Regular Expressions</a><ul>
<li class="chapter" data-level="15.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#common-string-operations"><i class="fa fa-check"></i><b>15.1</b> Common String Operations</a><ul>
<li class="chapter" data-level="15.1.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#concatinating-strings-with-paste"><i class="fa fa-check"></i><b>15.1.1</b> Concatinating strings with <code>paste()</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-substrings"><i class="fa fa-check"></i><b>15.1.2</b> Extracting Substrings</a></li>
<li class="chapter" data-level="15.1.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replace-substrings-with-gsub"><i class="fa fa-check"></i><b>15.1.3</b> Replace Substrings with <code>gsub()</code></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>15.2</b> Regular Expressions</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>16</b> Programming in R</a><ul>
<li class="chapter" data-level="16.1" data-path="programming-in-r.html"><a href="programming-in-r.html#conditional-flow"><i class="fa fa-check"></i><b>16.1</b> Conditional Flow</a><ul>
<li class="chapter" data-level="16.1.1" data-path="programming-in-r.html"><a href="programming-in-r.html#multiple-conditions"><i class="fa fa-check"></i><b>16.1.1</b> Multiple Conditions</a></li>
<li class="chapter" data-level="16.1.2" data-path="programming-in-r.html"><a href="programming-in-r.html#complex-statements"><i class="fa fa-check"></i><b>16.1.2</b> Complex Statements</a></li>
<li class="chapter" data-level="16.1.3" data-path="programming-in-r.html"><a href="programming-in-r.html#code-style"><i class="fa fa-check"></i><b>16.1.3</b> Code Style</a></li>
<li class="chapter" data-level="16.1.4" data-path="programming-in-r.html"><a href="programming-in-r.html#if-vs.-if_else"><i class="fa fa-check"></i><b>16.1.4</b> <code>if</code> vs. <code>if_else</code></a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="programming-in-r.html"><a href="programming-in-r.html#functions-1"><i class="fa fa-check"></i><b>16.2</b> Functions</a><ul>
<li class="chapter" data-level="16.2.1" data-path="programming-in-r.html"><a href="programming-in-r.html#why-write-functions"><i class="fa fa-check"></i><b>16.2.1</b> Why Write Functions?</a></li>
<li class="chapter" data-level="16.2.2" data-path="programming-in-r.html"><a href="programming-in-r.html#anatomy-of-a-function"><i class="fa fa-check"></i><b>16.2.2</b> Anatomy of a Function</a></li>
<li class="chapter" data-level="16.2.3" data-path="programming-in-r.html"><a href="programming-in-r.html#writing-a-function"><i class="fa fa-check"></i><b>16.2.3</b> Writing a Function</a></li>
<li class="chapter" data-level="16.2.4" data-path="programming-in-r.html"><a href="programming-in-r.html#using-a-function"><i class="fa fa-check"></i><b>16.2.4</b> Using a Function</a></li>
<li class="chapter" data-level="16.2.5" data-path="programming-in-r.html"><a href="programming-in-r.html#variable-scope"><i class="fa fa-check"></i><b>16.2.5</b> Variable Scope</a></li>
<li class="chapter" data-level="16.2.6" data-path="programming-in-r.html"><a href="programming-in-r.html#arguments-1"><i class="fa fa-check"></i><b>16.2.6</b> Arguments</a></li>
<li class="chapter" data-level="16.2.7" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-15"><i class="fa fa-check"></i><b>16.2.7</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="programming-in-r.html"><a href="programming-in-r.html#iteration"><i class="fa fa-check"></i><b>16.3</b> Iteration</a><ul>
<li class="chapter" data-level="16.3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#vectorized-functions"><i class="fa fa-check"></i><b>16.3.1</b> Vectorized Functions</a></li>
<li class="chapter" data-level="16.3.2" data-path="programming-in-r.html"><a href="programming-in-r.html#for-loops"><i class="fa fa-check"></i><b>16.3.2</b> For-loops</a></li>
<li class="chapter" data-level="16.3.3" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-16"><i class="fa fa-check"></i><b>16.3.3</b> Challenges</a></li>
<li class="chapter" data-level="16.3.4" data-path="programming-in-r.html"><a href="programming-in-r.html#functional-programming-and-map"><i class="fa fa-check"></i><b>16.3.4</b> Functional Programming and <code>map</code></a></li>
<li class="chapter" data-level="16.3.5" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-17"><i class="fa fa-check"></i><b>16.3.5</b> Challenges</a></li>
<li class="chapter" data-level="16.3.6" data-path="programming-in-r.html"><a href="programming-in-r.html#scoped-verbs"><i class="fa fa-check"></i><b>16.3.6</b> Scoped Verbs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html"><i class="fa fa-check"></i><b>17</b> Collecting Data from the Web</a><ul>
<li class="chapter" data-level="17.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#introduction-2"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#web-apis"><i class="fa fa-check"></i><b>17.2</b> Web APIs</a><ul>
<li class="chapter" data-level="17.2.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#some-basic-terminology"><i class="fa fa-check"></i><b>17.2.1</b> Some Basic Terminology</a></li>
<li class="chapter" data-level="17.2.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#how-do-get-requests-work"><i class="fa fa-check"></i><b>17.2.2</b> How Do GET Requests Work?</a></li>
<li class="chapter" data-level="17.2.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-apis"><i class="fa fa-check"></i><b>17.2.3</b> Finding APIs</a></li>
<li class="chapter" data-level="17.2.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#getting-api-access"><i class="fa fa-check"></i><b>17.2.4</b> Getting API Access</a></li>
<li class="chapter" data-level="17.2.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-apis-in-r"><i class="fa fa-check"></i><b>17.2.5</b> Using APIs in R</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#collecting-twitter-data-with-rtweet"><i class="fa fa-check"></i><b>17.3</b> Collecting Twitter Data with RTweet</a><ul>
<li class="chapter" data-level="17.3.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#setting-up-rtweet"><i class="fa fa-check"></i><b>17.3.1</b> Setting up <code>RTweet</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#uchicago-political-science-prof-tweets"><i class="fa fa-check"></i><b>17.3.2</b> UChicago Political Science Prof Tweets</a></li>
<li class="chapter" data-level="17.3.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#hashtags-and-text-strings"><i class="fa fa-check"></i><b>17.3.3</b> Hashtags and Text Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#writing-api-queries"><i class="fa fa-check"></i><b>17.4</b> Writing API Queries</a><ul>
<li class="chapter" data-level="17.4.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#constructing-the-api-get-request"><i class="fa fa-check"></i><b>17.4.1</b> Constructing the API GET Request</a></li>
<li class="chapter" data-level="17.4.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#parsing-the-response"><i class="fa fa-check"></i><b>17.4.2</b> Parsing the response</a></li>
<li class="chapter" data-level="17.4.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#iteration-through-results-pager"><i class="fa fa-check"></i><b>17.4.3</b> Iteration through results pager</a></li>
<li class="chapter" data-level="17.4.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#visualizing-results"><i class="fa fa-check"></i><b>17.4.4</b> Visualizing Results</a></li>
<li class="chapter" data-level="17.4.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#more-resources-1"><i class="fa fa-check"></i><b>17.4.5</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#webscraping"><i class="fa fa-check"></i><b>17.5</b> Webscraping</a><ul>
<li class="chapter" data-level="17.5.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#whats-a-website"><i class="fa fa-check"></i><b>17.5.1</b> What’s a website?</a></li>
<li class="chapter" data-level="17.5.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#html"><i class="fa fa-check"></i><b>17.5.2</b> HTML</a></li>
<li class="chapter" data-level="17.5.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#css"><i class="fa fa-check"></i><b>17.5.3</b> CSS</a></li>
<li class="chapter" data-level="17.5.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-elements-with-selector-gadget"><i class="fa fa-check"></i><b>17.5.4</b> Finding Elements with Selector Gadget</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#scraping-presidential-statements"><i class="fa fa-check"></i><b>17.6</b> Scraping Presidential Statements</a><ul>
<li class="chapter" data-level="17.6.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-rvest-to-read-html"><i class="fa fa-check"></i><b>17.6.1</b> Using <code>RVest</code> to Read HTML</a></li>
<li class="chapter" data-level="17.6.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#find-page-elements"><i class="fa fa-check"></i><b>17.6.2</b> Find Page Elements</a></li>
<li class="chapter" data-level="17.6.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#get-attributes-and-text-of-elements"><i class="fa fa-check"></i><b>17.6.3</b> Get Attributes and Text of Elements</a></li>
<li class="chapter" data-level="17.6.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#lets-do-this."><i class="fa fa-check"></i><b>17.6.4</b> Let’s DO this.</a></li>
<li class="chapter" data-level="17.6.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#challenge-1-make-a-function"><i class="fa fa-check"></i><b>17.6.5</b> Challenge 1: Make a function</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Assignments and Projects</b></span></li>
<li class="chapter" data-level="18" data-path="assignments-1.html"><a href="assignments-1.html"><i class="fa fa-check"></i><b>18</b> Assignments</a></li>
<li class="part"><span><b>IV Resources</b></span></li>
<li class="chapter" data-level="19" data-path="cheat-sheets-and-guides.html"><a href="cheat-sheets-and-guides.html"><i class="fa fa-check"></i><b>19</b> Cheat Sheets and Guides</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PLSC 31101: Computational Tools for Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Data Transformation</h1>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">10.1</span> Introduction</h2>
<div id="tidyverse" class="section level3">
<h3><span class="header-section-number">10.1.1</span> <code>tidyverse</code></h3>
<blockquote>
<p>It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data. (Dasu and Johnson, 2003)</p>
</blockquote>
<p>For most applied researchers, data preparation usually involves 3 main steps.</p>
<ol style="list-style-type: decimal">
<li><strong><em>Transforming</em></strong> data frames, e.g. filtering, summarizing, and conducting calculations across groups.</li>
<li><strong><em>Tidying</em></strong> data into the appropriate format.</li>
<li><strong><em>Merging</em></strong> or linking several datasets to create a bigger dataset.</li>
</ol>
<p>The <a href="https://www.tidyverse.org/"><code>tidyverse</code></a> is a suite of packages designed specifically to help with these steps. These are by no means the only packages out there for data wrangling, but they are increasingly popular for their readable, straightforward syntax and sensible default behaviors.</p>
<p>In this chapter, we’re going to focus on how to use the <code>dplyr</code> package for data transformation tasks.</p>
</div>
<div id="gapminder" class="section level3">
<h3><span class="header-section-number">10.1.2</span> Gapminder</h3>
<p>For this unit, we’ll be working with the “Gapminder” dataset again.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" data-line-number="1">gap &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/gapminder-FiveYearData.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb174-2" data-line-number="2"><span class="kw">kable</span>(<span class="kw">head</span>(gap))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
pop
</th>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
lifeExp
</th>
<th style="text-align:right;">
gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1952
</td>
<td style="text-align:right;">
8425333
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
28.8
</td>
<td style="text-align:right;">
779
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1957
</td>
<td style="text-align:right;">
9240934
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
30.3
</td>
<td style="text-align:right;">
821
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1962
</td>
<td style="text-align:right;">
10267083
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
32.0
</td>
<td style="text-align:right;">
853
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1967
</td>
<td style="text-align:right;">
11537966
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
34.0
</td>
<td style="text-align:right;">
836
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1972
</td>
<td style="text-align:right;">
13079460
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
36.1
</td>
<td style="text-align:right;">
740
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1977
</td>
<td style="text-align:right;">
14880372
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
38.4
</td>
<td style="text-align:right;">
786
</td>
</tr>
</tbody>
</table>
</div>
<div id="why-dplyr" class="section level3">
<h3><span class="header-section-number">10.1.3</span> Why <code>dplyr</code>?</h3>
<p>So far, you’ve seen the basics of manipulating data frames, e.g. subsetting and basic calculations. For instance, we can use base R functions to calculate summary statistics across groups of observations, e.g., the mean GDP per capita within each region:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="kw">mean</span>(gap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Africa&quot;</span>, <span class="st">&quot;gdpPercap&quot;</span>])</a>
<a class="sourceLine" id="cb175-2" data-line-number="2"><span class="co">#&gt; [1] 2194</span></a>
<a class="sourceLine" id="cb175-3" data-line-number="3"><span class="kw">mean</span>(gap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>, <span class="st">&quot;gdpPercap&quot;</span>])</a>
<a class="sourceLine" id="cb175-4" data-line-number="4"><span class="co">#&gt; [1] 7136</span></a>
<a class="sourceLine" id="cb175-5" data-line-number="5"><span class="kw">mean</span>(gap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Asia&quot;</span>, <span class="st">&quot;gdpPercap&quot;</span>])</a>
<a class="sourceLine" id="cb175-6" data-line-number="6"><span class="co">#&gt; [1] 7902</span></a></code></pre></div>
<p>But this isn’t ideal because it involves a fair bit of repetition. Repeating yourself will cost you time, both now and later, and potentially introduce some nasty bugs.</p>
<p>Luckily, the <a href="https://cran.r-project.org/web/packages/dplyr/dplyr.pdf"><code>dplyr</code></a> package provides a number of very useful functions for manipulating dataframes. These functions will save you time by reducing repetition. As an added bonus, you might even find the <code>dplyr</code> grammar easier to read.</p>
<p>Here, we’re going to cover 6 of the most commonly used <code>dplyr</code> functions. We’ll also cover pipes (<code>%&gt;%</code>), which are used to combine them.</p>
<ol style="list-style-type: decimal">
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>group_by()</code></li>
<li><code>summarize()</code></li>
<li><code>mutate()</code></li>
<li><code>arrange()</code></li>
</ol>
<p>If you have have not installed this package earlier, please do so now:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="co"># not run</span></a>
<a class="sourceLine" id="cb176-2" data-line-number="2"><span class="co"># install.packages(&#39;dplyr&#39;)</span></a></code></pre></div>
<p>Now let’s load the package:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a></code></pre></div>
</div>
</div>
<div id="dplyr-functions" class="section level2">
<h2><span class="header-section-number">10.2</span> <code>dplyr</code> Functions</h2>
<div id="select-columns-with-select" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Select Columns with <code>select</code></h3>
<p>Imagine that we just received the gapminder dataset, but are only interested in a few variables in it. We could use the <code>select()</code> function to keep only the variables we select.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1">year_country_gdp &lt;-<span class="st"> </span><span class="kw">select</span>(gap, year, country, gdpPercap)</a>
<a class="sourceLine" id="cb178-2" data-line-number="2"><span class="kw">kable</span>(<span class="kw">head</span>(year_country_gdp))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
year
</th>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1952
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
779
</td>
</tr>
<tr>
<td style="text-align:right;">
1957
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
821
</td>
</tr>
<tr>
<td style="text-align:right;">
1962
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
853
</td>
</tr>
<tr>
<td style="text-align:right;">
1967
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
836
</td>
</tr>
<tr>
<td style="text-align:right;">
1972
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
740
</td>
</tr>
<tr>
<td style="text-align:right;">
1977
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
786
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/dplyr-fig1.png&quot;</span>)</a></code></pre></div>
<p><img src="img/dplyr-fig1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>If we open up <code>year_country_gdp</code>, we’ll see that it only contains the year, country and gdpPercap. This is equivalent to the base R subsetting function:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1">year_country_gdp_base &lt;-<span class="st"> </span>gap[,<span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;country&quot;</span>, <span class="st">&quot;gdpPercap&quot;</span>)]</a>
<a class="sourceLine" id="cb180-2" data-line-number="2"><span class="kw">kable</span>(<span class="kw">head</span>(year_country_gdp))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
year
</th>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1952
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
779
</td>
</tr>
<tr>
<td style="text-align:right;">
1957
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
821
</td>
</tr>
<tr>
<td style="text-align:right;">
1962
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
853
</td>
</tr>
<tr>
<td style="text-align:right;">
1967
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
836
</td>
</tr>
<tr>
<td style="text-align:right;">
1972
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
740
</td>
</tr>
<tr>
<td style="text-align:right;">
1977
</td>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
786
</td>
</tr>
</tbody>
</table>
<p>But, as we will see, <code>dplyr</code> makes for much more readible, efficient code because of its <em>pipe</em> operator.</p>
</div>
<div id="the-pipe" class="section level3">
<h3><span class="header-section-number">10.2.2</span> The Pipe</h3>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/pipe.jpg&quot;</span>)</a></code></pre></div>
<p><img src="img/pipe.jpg" width="70%" style="display: block; margin: auto;" /></p>
<p>Above, we used what’s called ‘normal’ grammar, but the strengths of <code>dplyr</code> lie in combining several functions using <em>pipes</em>. Since the pipes grammar is unlike anything we’ve seen in R before, let’s repeat what we’ve done above using pipes.</p>
<p>In typical base R code, a simple operation might be written like:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1"><span class="co"># NOT run</span></a>
<a class="sourceLine" id="cb182-2" data-line-number="2">cupcakes &lt;-<span class="st"> </span><span class="kw">bake</span>(<span class="kw">pour</span>(<span class="kw">mix</span>(ingredients)))</a></code></pre></div>
<p>A computer has no trouble understanding this and your cupcakes will be made just fine, but a person has to read right to left to understand the order of operations - the opposite of how most western languages are read - making it harder to understand what is being done!</p>
<p>To be more readable without pipes, we might break up this code into intermediate objects:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1"><span class="co">## NOT run</span></a>
<a class="sourceLine" id="cb183-2" data-line-number="2">batter &lt;-<span class="st"> </span><span class="kw">mix</span>(ingredients)</a>
<a class="sourceLine" id="cb183-3" data-line-number="3">muffin_tin &lt;-<span class="st"> </span><span class="kw">pour</span>(batter)</a>
<a class="sourceLine" id="cb183-4" data-line-number="4">cupcakes &lt;-<span class="st"> </span><span class="kw">bake</span>(muffin_tin)</a></code></pre></div>
<p>But, this can clutter our environment with a lot of variables that aren’t very useful to us. Plus, these variables are often are named very similar things (e.g. step, step1, step2…) which can lead to confusion and the creation of hard-to-track-down bugs.</p>
<div id="enter-the-pipe" class="section level4 unnumbered">
<h4>Enter the Pipe…</h4>
<p>The <em>pipe</em> makes it easier to read code by laying out operations from left to right – each line can be read like a line of a recipe for the perfect data frame!</p>
<p>Pipes take the input on the left side of the <code>%&gt;%</code> symbol and pass it in as the first argument to the function on the right side.</p>
<p>With pipes, our cupcake example might be written like:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1"><span class="co">## NOT run</span></a>
<a class="sourceLine" id="cb184-2" data-line-number="2">cupcakes &lt;-<span class="st"> </span>ingredients <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb184-3" data-line-number="3"><span class="st">  </span><span class="kw">mix</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb184-4" data-line-number="4"><span class="st">  </span><span class="kw">pour</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb184-5" data-line-number="5"><span class="st">  </span><span class="kw">bake</span>()</a></code></pre></div>
</div>
<div id="tips-for-piping" class="section level4 unnumbered">
<h4>Tips for Piping</h4>
<ol style="list-style-type: decimal">
<li><p>Remember that you don’t assign anything within the pipes – that is, you should not use &lt;- inside the piped operation. Only use this at the beginning of your code if you want to save the output.</p></li>
<li><p>Remember to add the pipe <code>%&gt;%</code> at the end of each line involved in the piped operation. A good rule of thumb: since RStudio will automatically indent lines of code that are part of a piped operation, if the line isn’t indented, it probably hasn’t been added to the pipe. If you have an error in a piped operation, always check to make sure the pipe is connected as you expect.</p></li>
<li><p>In RStudio, the hotkey for the pipe is Ctrl + Shift + M.</p></li>
</ol>
</div>
<div id="select-pipe" class="section level4 unnumbered">
<h4><code>select</code> &amp; Pipe (<code>%&gt;%</code>)</h4>
<p>Since the pipe grammar is unlike anything we’ve seen in R before, let’s repeat what
we did above with the gapminder dataset using pipes:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1">year_country_gdp &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(year, country, gdpPercap)</a></code></pre></div>
<p>Let’s walk through it step by step.</p>
<p>First, we summon the gapminder data frame and pass it on to the next step using the pipe symbol <code>%&gt;%</code>.</p>
<p>The second step is the <code>select()</code> function. In this case, we don’t specify which data object we use in the call to <code>select()</code> since we’ve piped it in from the previous line.</p>
<p><strong>Fun Fact</strong>: There is a good chance you have encountered pipes before in the shell. In R, a pipe symbol is <code>%&gt;%</code> while in the shell it is <code>|.</code> But the concept is the same!</p>
</div>
</div>
<div id="filter-rows-with-filter" class="section level3">
<h3><span class="header-section-number">10.2.3</span> Filter Rows with <code>filter</code></h3>
<p>Now let’s say we’re only interested in African countries. We can combine <code>select</code> and <code>filter</code> to select only the observations where <code>continent</code> is <code>Africa</code>.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1">year_country_gdp_africa &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb186-2" data-line-number="2"><span class="st">    </span><span class="kw">filter</span>(continent <span class="op">==</span><span class="st"> &quot;Africa&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb186-3" data-line-number="3"><span class="st">    </span><span class="kw">select</span>(year, country, gdpPercap)</a></code></pre></div>
<p>As with last time, first we pass the gapminder dataframe to the <code>filter()</code> function, then we pass the filtered version of the gapminder dataframe to the <code>select()</code> function.</p>
<p>To clarify, both the <code>select</code> and <code>filter</code> functions subset the data frame. The difference is that <code>select</code> extracts certain columns, while <code>filter</code> extracts certain rows.</p>
<p><strong>Note:</strong> The order of operations is very important in this case. If we used <code>select</code> first, filter would not be able to find the variable <code>continent</code> since we would have removed it in the previous step.</p>
</div>
<div id="calculate-across-groups-with-group_by" class="section level3">
<h3><span class="header-section-number">10.2.4</span> Calculate Across Groups with <code>group_by</code></h3>
<p>A common task you’ll encounter when working with data is running calculations on different groups within the data. For instance, what if we wanted to calculate the mean GDP per capita for each continent?</p>
<p>In base R, you would have to run the <code>mean()</code> function for each subset of data:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1"><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Africa&quot;</span>])</a>
<a class="sourceLine" id="cb187-2" data-line-number="2"><span class="co">#&gt; [1] 2194</span></a>
<a class="sourceLine" id="cb187-3" data-line-number="3"><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>])</a>
<a class="sourceLine" id="cb187-4" data-line-number="4"><span class="co">#&gt; [1] 7136</span></a>
<a class="sourceLine" id="cb187-5" data-line-number="5"><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Asia&quot;</span>])</a>
<a class="sourceLine" id="cb187-6" data-line-number="6"><span class="co">#&gt; [1] 7902</span></a>
<a class="sourceLine" id="cb187-7" data-line-number="7"><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>])</a>
<a class="sourceLine" id="cb187-8" data-line-number="8"><span class="co">#&gt; [1] 14469</span></a>
<a class="sourceLine" id="cb187-9" data-line-number="9"><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Oceania&quot;</span>])</a>
<a class="sourceLine" id="cb187-10" data-line-number="10"><span class="co">#&gt; [1] 18622</span></a></code></pre></div>
<p>That’s a lot of repetition! To make matters worse, what if we wanted to add these values to our original data frame as a new column? We would have to write something like this:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1">gap<span class="op">$</span>mean.continent.GDP &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb188-2" data-line-number="2">gap<span class="op">$</span>mean.continent.GDP[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Africa&quot;</span>] &lt;-<span class="st"> </span><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Africa&quot;</span>])</a>
<a class="sourceLine" id="cb188-3" data-line-number="3">gap<span class="op">$</span>mean.continent.GDP[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>] &lt;-<span class="st"> </span><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>])</a>
<a class="sourceLine" id="cb188-4" data-line-number="4">gap<span class="op">$</span>mean.continent.GDP[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Asia&quot;</span>] &lt;-<span class="st"> </span><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Asia&quot;</span>])</a>
<a class="sourceLine" id="cb188-5" data-line-number="5">gap<span class="op">$</span>mean.continent.GDP[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>] &lt;-<span class="st"> </span><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Europe&quot;</span>])</a>
<a class="sourceLine" id="cb188-6" data-line-number="6">gap<span class="op">$</span>mean.continent.GDP[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Oceania&quot;</span>] &lt;-<span class="st"> </span><span class="kw">mean</span>(gap<span class="op">$</span>gdpPercap[gap<span class="op">$</span>continent <span class="op">==</span><span class="st"> &quot;Oceania&quot;</span>])</a></code></pre></div>
<p>You can see how this can get pretty tedious, especially if we want to calculate more complicated or refined statistics. We could use loops or apply functions, but these can be difficult, slow, and error-prone.</p>
<div id="split-apply-combine" class="section level4 unnumbered">
<h4>split-apply-combine</h4>
<p>The abstract problem we’re encountering here is know as “split-apply-combine”:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/splitapply.png&quot;</span>)</a></code></pre></div>
<p><img src="img/splitapply.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We want to <em>split</em> our data into groups (in this case continents), <em>apply</em> some calculations on that group, then <em>combine</em> the results together afterwards.</p>
<p>Luckily, <code>dplyr</code> offers a much cleaner, straight-forward solution to this problem.</p>
<p>First, let’s remove the column we just made.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1">gap &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>mean.continent.GDP) <span class="co"># drop a column with - </span></a>
<a class="sourceLine" id="cb190-2" data-line-number="2"><span class="co"># OR</span></a>
<a class="sourceLine" id="cb190-3" data-line-number="3">gap<span class="op">$</span>mean.continent.GDP &lt;-<span class="st"> </span><span class="ot">NULL</span></a></code></pre></div>
</div>
<div id="group_by" class="section level4">
<h4><span class="header-section-number">10.2.4.1</span> <code class="unnumbered">group_by</code></h4>
<p>We’ve already seen how <code>filter()</code> can help us select observations that meet certain criteria (in the above: <code>continent == &quot;Africa&quot;</code>). More helpful, however, is the <code>group_by()</code> function, which will essentially use every unique criteria that we could have used in <code>filter()</code>.</p>
<p>A <code>grouped_df</code> can be thought of as a <code>list</code> where each item in the <code>list</code> is a <code>data.frame</code> which contains only the rows that correspond to a particular value for <code>continent</code> (at least in the example above).</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/dplyr-fig2.png&quot;</span>)</a></code></pre></div>
<p><img src="img/dplyr-fig2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="summarize-across-groups-with-summarize" class="section level3">
<h3><span class="header-section-number">10.2.5</span> Summarize Across Groups with <code>summarize</code></h3>
<p><code>group_by()</code> on its own is not particularly interesting. It’s much more exciting used in conjunction with the <code>summarize()</code> function.</p>
<p>This will allow us to create new variable(s) by applying transformations to variables in each of our groups (continent-specific data frames).</p>
<p>In other words, using the <code>group_by()</code> function, we split our original data frame into multiple pieces, to which we then apply summary functions (e.g. <code>mean()</code> or <code>sd()</code>) within <code>summarize()</code>.</p>
<p>The output is a new data frame reduced in size, with one row per group.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1">gdp_bycontinents &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb192-2" data-line-number="2"><span class="st">    </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb192-3" data-line-number="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb192-4" data-line-number="4"><span class="kw">kable</span>(<span class="kw">head</span>(gdp_bycontinents))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
2194
</td>
</tr>
<tr>
<td style="text-align:left;">
Americas
</td>
<td style="text-align:right;">
7136
</td>
</tr>
<tr>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
7902
</td>
</tr>
<tr>
<td style="text-align:left;">
Europe
</td>
<td style="text-align:right;">
14469
</td>
</tr>
<tr>
<td style="text-align:left;">
Oceania
</td>
<td style="text-align:right;">
18622
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/dplyr-fig3.png&quot;</span>)</a></code></pre></div>
<p><img src="img/dplyr-fig3.png" width="70%" style="display: block; margin: auto;" /></p>
<p>That allowed us to calculate the mean gdpPercap for each continent.</p>
<p>But it gets even better – the function <code>group_by()</code> allows us to group by multiple variables. Let’s group by <code>year</code> and <code>continent</code>.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1">gdp_bycontinents_byyear &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb194-2" data-line-number="2"><span class="st">    </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb194-3" data-line-number="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap))</a>
<a class="sourceLine" id="cb194-4" data-line-number="4"><span class="kw">kable</span>(<span class="kw">head</span>(gdp_bycontinents_byyear))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1952
</td>
<td style="text-align:right;">
1253
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1957
</td>
<td style="text-align:right;">
1385
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1962
</td>
<td style="text-align:right;">
1598
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1967
</td>
<td style="text-align:right;">
2050
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1972
</td>
<td style="text-align:right;">
2340
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1977
</td>
<td style="text-align:right;">
2586
</td>
</tr>
</tbody>
</table>
<p>That is already quite powerful, but it gets even better! You’re not limited to defining 1 new variable in <code>summarize()</code>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1">gdp_pop_bycontinents_byyear &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="st">    </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb195-3" data-line-number="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap),</a>
<a class="sourceLine" id="cb195-4" data-line-number="4">              <span class="dt">sd_gdpPercap =</span> <span class="kw">sd</span>(gdpPercap),</a>
<a class="sourceLine" id="cb195-5" data-line-number="5">              <span class="dt">mean_pop =</span> <span class="kw">mean</span>(pop),</a>
<a class="sourceLine" id="cb195-6" data-line-number="6">              <span class="dt">sd_pop =</span> <span class="kw">sd</span>(pop))</a>
<a class="sourceLine" id="cb195-7" data-line-number="7"><span class="kw">kable</span>(<span class="kw">head</span>(gdp_pop_bycontinents_byyear))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
<th style="text-align:right;">
sd_gdpPercap
</th>
<th style="text-align:right;">
mean_pop
</th>
<th style="text-align:right;">
sd_pop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1952
</td>
<td style="text-align:right;">
1253
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
4570010
</td>
<td style="text-align:right;">
6317450
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1957
</td>
<td style="text-align:right;">
1385
</td>
<td style="text-align:right;">
1135
</td>
<td style="text-align:right;">
5093033
</td>
<td style="text-align:right;">
7076042
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1962
</td>
<td style="text-align:right;">
1598
</td>
<td style="text-align:right;">
1462
</td>
<td style="text-align:right;">
5702247
</td>
<td style="text-align:right;">
7957545
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1967
</td>
<td style="text-align:right;">
2050
</td>
<td style="text-align:right;">
2848
</td>
<td style="text-align:right;">
6447875
</td>
<td style="text-align:right;">
8985505
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1972
</td>
<td style="text-align:right;">
2340
</td>
<td style="text-align:right;">
3287
</td>
<td style="text-align:right;">
7305376
</td>
<td style="text-align:right;">
10130833
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1977
</td>
<td style="text-align:right;">
2586
</td>
<td style="text-align:right;">
4142
</td>
<td style="text-align:right;">
8328097
</td>
<td style="text-align:right;">
11585184
</td>
</tr>
</tbody>
</table>
</div>
<div id="add-new-variables-with-mutate" class="section level3">
<h3><span class="header-section-number">10.2.6</span> Add New Variables with <code>mutate</code></h3>
<p>What if we wanted to add these values to our original data frame instead of creating a new object?</p>
<p>For this, we can use the <code>mutate()</code> function, which is similar to <code>summarize()</code> except that it creates new variables in the same dataframe that you pass into it.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1">gapminder_with_extra_vars &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb196-2" data-line-number="2"><span class="st">    </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb196-3" data-line-number="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap),</a>
<a class="sourceLine" id="cb196-4" data-line-number="4">              <span class="dt">sd_gdpPercap =</span> <span class="kw">sd</span>(gdpPercap),</a>
<a class="sourceLine" id="cb196-5" data-line-number="5">              <span class="dt">mean_pop =</span> <span class="kw">mean</span>(pop),</a>
<a class="sourceLine" id="cb196-6" data-line-number="6">              <span class="dt">sd_pop =</span> <span class="kw">sd</span>(pop))</a>
<a class="sourceLine" id="cb196-7" data-line-number="7"><span class="kw">kable</span>(<span class="kw">head</span>(gapminder_with_extra_vars))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
pop
</th>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
lifeExp
</th>
<th style="text-align:right;">
gdpPercap
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
<th style="text-align:right;">
sd_gdpPercap
</th>
<th style="text-align:right;">
mean_pop
</th>
<th style="text-align:right;">
sd_pop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1952
</td>
<td style="text-align:right;">
8425333
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
28.8
</td>
<td style="text-align:right;">
779
</td>
<td style="text-align:right;">
5195
</td>
<td style="text-align:right;">
18635
</td>
<td style="text-align:right;">
42283556
</td>
<td style="text-align:right;">
1.13e+08
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1957
</td>
<td style="text-align:right;">
9240934
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
30.3
</td>
<td style="text-align:right;">
821
</td>
<td style="text-align:right;">
5788
</td>
<td style="text-align:right;">
19507
</td>
<td style="text-align:right;">
47356988
</td>
<td style="text-align:right;">
1.28e+08
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1962
</td>
<td style="text-align:right;">
10267083
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
32.0
</td>
<td style="text-align:right;">
853
</td>
<td style="text-align:right;">
5729
</td>
<td style="text-align:right;">
16416
</td>
<td style="text-align:right;">
51404763
</td>
<td style="text-align:right;">
1.36e+08
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1967
</td>
<td style="text-align:right;">
11537966
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
34.0
</td>
<td style="text-align:right;">
836
</td>
<td style="text-align:right;">
5971
</td>
<td style="text-align:right;">
14063
</td>
<td style="text-align:right;">
57747361
</td>
<td style="text-align:right;">
1.53e+08
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1972
</td>
<td style="text-align:right;">
13079460
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
36.1
</td>
<td style="text-align:right;">
740
</td>
<td style="text-align:right;">
8187
</td>
<td style="text-align:right;">
19088
</td>
<td style="text-align:right;">
65180977
</td>
<td style="text-align:right;">
1.74e+08
</td>
</tr>
<tr>
<td style="text-align:left;">
Afghanistan
</td>
<td style="text-align:right;">
1977
</td>
<td style="text-align:right;">
14880372
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:right;">
38.4
</td>
<td style="text-align:right;">
786
</td>
<td style="text-align:right;">
7791
</td>
<td style="text-align:right;">
11816
</td>
<td style="text-align:right;">
72257987
</td>
<td style="text-align:right;">
1.92e+08
</td>
</tr>
</tbody>
</table>
<p>We can use also use <code>mutate()</code> to create new variables prior to (or even after) summarizing the information.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1">gdp_pop_bycontinents_byyear &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb197-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">gdp_billion =</span> gdpPercap<span class="op">*</span>pop<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb197-3" data-line-number="3"><span class="st">    </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb197-4" data-line-number="4"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap),</a>
<a class="sourceLine" id="cb197-5" data-line-number="5">              <span class="dt">sd_gdpPercap =</span> <span class="kw">sd</span>(gdpPercap),</a>
<a class="sourceLine" id="cb197-6" data-line-number="6">              <span class="dt">mean_pop =</span> <span class="kw">mean</span>(pop),</a>
<a class="sourceLine" id="cb197-7" data-line-number="7">              <span class="dt">sd_pop =</span> <span class="kw">sd</span>(pop),</a>
<a class="sourceLine" id="cb197-8" data-line-number="8">              <span class="dt">mean_gdp_billion =</span> <span class="kw">mean</span>(gdp_billion),</a>
<a class="sourceLine" id="cb197-9" data-line-number="9">              <span class="dt">sd_gdp_billion =</span> <span class="kw">sd</span>(gdp_billion))</a>
<a class="sourceLine" id="cb197-10" data-line-number="10"><span class="kw">kable</span>(<span class="kw">head</span>(gdp_pop_bycontinents_byyear))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
<th style="text-align:right;">
sd_gdpPercap
</th>
<th style="text-align:right;">
mean_pop
</th>
<th style="text-align:right;">
sd_pop
</th>
<th style="text-align:right;">
mean_gdp_billion
</th>
<th style="text-align:right;">
sd_gdp_billion
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1952
</td>
<td style="text-align:right;">
1253
</td>
<td style="text-align:right;">
983
</td>
<td style="text-align:right;">
4570010
</td>
<td style="text-align:right;">
6317450
</td>
<td style="text-align:right;">
5.99
</td>
<td style="text-align:right;">
11.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1957
</td>
<td style="text-align:right;">
1385
</td>
<td style="text-align:right;">
1135
</td>
<td style="text-align:right;">
5093033
</td>
<td style="text-align:right;">
7076042
</td>
<td style="text-align:right;">
7.36
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1962
</td>
<td style="text-align:right;">
1598
</td>
<td style="text-align:right;">
1462
</td>
<td style="text-align:right;">
5702247
</td>
<td style="text-align:right;">
7957545
</td>
<td style="text-align:right;">
8.79
</td>
<td style="text-align:right;">
17.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1967
</td>
<td style="text-align:right;">
2050
</td>
<td style="text-align:right;">
2848
</td>
<td style="text-align:right;">
6447875
</td>
<td style="text-align:right;">
8985505
</td>
<td style="text-align:right;">
11.44
</td>
<td style="text-align:right;">
23.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1972
</td>
<td style="text-align:right;">
2340
</td>
<td style="text-align:right;">
3287
</td>
<td style="text-align:right;">
7305376
</td>
<td style="text-align:right;">
10130833
</td>
<td style="text-align:right;">
15.07
</td>
<td style="text-align:right;">
30.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
1977
</td>
<td style="text-align:right;">
2586
</td>
<td style="text-align:right;">
4142
</td>
<td style="text-align:right;">
8328097
</td>
<td style="text-align:right;">
11585184
</td>
<td style="text-align:right;">
18.70
</td>
<td style="text-align:right;">
38.1
</td>
</tr>
</tbody>
</table>
<div id="mutate-vs.-summarize" class="section level4 unnumbered">
<h4><code>mutate</code> vs. <code>summarize</code></h4>
<p>It can be confusing to decide whether to use <code>mutate</code> or <code>summarize</code>. The key distinction is whether you want the output to have one row for each group or one row for each row in the original data frame:</p>
<ul>
<li><code>mutate</code>: creates new columns with as many rows as the original data frame
<ul>
<li><code>summarize</code>: creates a data frame with as many rows as groups</li>
</ul></li>
</ul>
<p>Note that if you use an aggregation function such as <code>mean()</code> within <code>mutate()</code> without using <code>group_by()</code>, you’ll simply do the summary over all the rows of the input data frame.</p>
<p>And if you use an aggregation function such as <code>mean()</code> within <code>summarize()</code> without using <code>group_by()</code>, you’ll simply create an output data frame with one row (i.e., the whole input data frame is a single group).</p>
</div>
</div>
<div id="arrange-rows-with-arrange" class="section level3">
<h3><span class="header-section-number">10.2.7</span> Arrange Rows with <code>arrange</code></h3>
<p>As a last step, let’s say we want to sort the rows in our data frame according to values in a certain column. We can use the <code>arrange()</code> function to do this. For instance, let’s organize our rows by <code>year</code> (recent first), and then by <code>continent</code>.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1">gapminder_with_extra_vars &lt;-<span class="st"> </span>gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb198-2" data-line-number="2"><span class="st">    </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb198-3" data-line-number="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap),</a>
<a class="sourceLine" id="cb198-4" data-line-number="4">              <span class="dt">sd_gdpPercap =</span> <span class="kw">sd</span>(gdpPercap),</a>
<a class="sourceLine" id="cb198-5" data-line-number="5">              <span class="dt">mean_pop =</span> <span class="kw">mean</span>(pop),</a>
<a class="sourceLine" id="cb198-6" data-line-number="6">              <span class="dt">sd_pop =</span> <span class="kw">sd</span>(pop)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb198-7" data-line-number="7"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(year), continent)</a>
<a class="sourceLine" id="cb198-8" data-line-number="8"><span class="kw">kable</span>(<span class="kw">head</span>(gapminder_with_extra_vars))</a></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
pop
</th>
<th style="text-align:left;">
continent
</th>
<th style="text-align:right;">
lifeExp
</th>
<th style="text-align:right;">
gdpPercap
</th>
<th style="text-align:right;">
mean_gdpPercap
</th>
<th style="text-align:right;">
sd_gdpPercap
</th>
<th style="text-align:right;">
mean_pop
</th>
<th style="text-align:right;">
sd_pop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Algeria
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
33333216
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
72.3
</td>
<td style="text-align:right;">
6223
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
<tr>
<td style="text-align:left;">
Angola
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
12420476
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
42.7
</td>
<td style="text-align:right;">
4797
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
<tr>
<td style="text-align:left;">
Benin
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
8078314
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
56.7
</td>
<td style="text-align:right;">
1441
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
<tr>
<td style="text-align:left;">
Botswana
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
1639131
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
50.7
</td>
<td style="text-align:right;">
12570
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
<tr>
<td style="text-align:left;">
Burkina Faso
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
14326203
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
52.3
</td>
<td style="text-align:right;">
1217
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
<tr>
<td style="text-align:left;">
Burundi
</td>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
8390505
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:right;">
49.6
</td>
<td style="text-align:right;">
430
</td>
<td style="text-align:right;">
3089
</td>
<td style="text-align:right;">
3618
</td>
<td style="text-align:right;">
17875763
</td>
<td style="text-align:right;">
24917726
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="dplyr-and-non-standard-evaluation" class="section level2">
<h2><span class="header-section-number">10.3</span> <code>dplyr</code> and “Non-Standard Evaluation”</h2>
<p>You may run across the term “non-standard evaluation”. The use of data frame variables without quotes around them is an example of this.</p>
<p>Why is this strange?</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">gap <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</a></code></pre></div>
<p>Compare it to:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1">gap[ , <span class="kw">c</span>(<span class="st">&#39;continent&#39;</span>, <span class="st">&#39;year&#39;</span>)]</a>
<a class="sourceLine" id="cb200-2" data-line-number="2">gap[ , continent]</a></code></pre></div>
<p>Because <code>continent</code> and <code>year</code> are not variables our current environment, <code>dplyr</code> does some fancy stuff behind the scenes to save us from typing the quotes.</p>
<p>This is fine if you have a data analysis workflow, but if you want to write a function that, for example, selects an arbitrary set of columns, you’ll run into trouble.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="co">## here&#39;s a helper function that computes the mean of a variable, stratifying by a grouping variable</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2">grouped_mean &lt;-<span class="st"> </span><span class="cf">function</span>(data, group_var, summary_var) {</a>
<a class="sourceLine" id="cb201-3" data-line-number="3">  data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb201-4" data-line-number="4"><span class="st">    </span><span class="kw">group_by</span>(group_var) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb201-5" data-line-number="5"><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(summary_var))</a>
<a class="sourceLine" id="cb201-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb201-7" data-line-number="7">gap <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">grouped_mean</span>(continent, lifeExp)</a>
<a class="sourceLine" id="cb201-8" data-line-number="8">gap <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">grouped_mean</span>(<span class="st">&#39;continent&#39;</span>, <span class="st">&#39;lifeExp&#39;</span>)</a></code></pre></div>
<p>See the <code>rlang</code> or <code>seplyr</code> packages for how one can deal with this problem in this context of using functions.</p>
</div>
<div id="challenges-11" class="section level2">
<h2><span class="header-section-number">10.4</span> Challenges</h2>
<div id="challenge-1.-6" class="section level4 unnumbered">
<h4>Challenge 1.</h4>
<p>Use <code>dplyr</code> to create a data frame containing the median <code>lifeExp</code> for each continent.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1">gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb202-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">median_lifeexp =</span> <span class="kw">median</span>(lifeExp))</a>
<a class="sourceLine" id="cb202-4" data-line-number="4"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb202-5" data-line-number="5"><span class="co">#&gt;   continent median_lifeexp</span></a>
<a class="sourceLine" id="cb202-6" data-line-number="6"><span class="co">#&gt;   &lt;fct&gt;              &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb202-7" data-line-number="7"><span class="co">#&gt; 1 Africa              47.8</span></a>
<a class="sourceLine" id="cb202-8" data-line-number="8"><span class="co">#&gt; 2 Americas            67.0</span></a>
<a class="sourceLine" id="cb202-9" data-line-number="9"><span class="co">#&gt; 3 Asia                61.8</span></a>
<a class="sourceLine" id="cb202-10" data-line-number="10"><span class="co">#&gt; 4 Europe              72.2</span></a>
<a class="sourceLine" id="cb202-11" data-line-number="11"><span class="co">#&gt; 5 Oceania             73.7</span></a></code></pre></div>
</div>
<div id="challenge-2.-6" class="section level4 unnumbered">
<h4>Challenge 2.</h4>
<p>Use <code>dplyr</code> to add a column to the gapminder dataset that contains the total population of the continent of each observation in a given year. For example, if the first observation is Afghanistan in 1952, the new column would contain the population of Asia in 1952.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb203-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb203-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">continent_pop =</span> <span class="kw">sum</span>(pop))</a>
<a class="sourceLine" id="cb203-4" data-line-number="4"><span class="co">#&gt; # A tibble: 1,704 x 7</span></a>
<a class="sourceLine" id="cb203-5" data-line-number="5"><span class="co">#&gt; # Groups:   continent, year [60]</span></a>
<a class="sourceLine" id="cb203-6" data-line-number="6"><span class="co">#&gt;   country      year      pop continent lifeExp gdpPercap continent_pop</span></a>
<a class="sourceLine" id="cb203-7" data-line-number="7"><span class="co">#&gt;   &lt;fct&gt;       &lt;int&gt;    &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb203-8" data-line-number="8"><span class="co">#&gt; 1 Afghanistan  1952  8425333 Asia         28.8      779.   1395357352.</span></a>
<a class="sourceLine" id="cb203-9" data-line-number="9"><span class="co">#&gt; 2 Afghanistan  1957  9240934 Asia         30.3      821.   1562780599 </span></a>
<a class="sourceLine" id="cb203-10" data-line-number="10"><span class="co">#&gt; 3 Afghanistan  1962 10267083 Asia         32.0      853.   1696357182 </span></a>
<a class="sourceLine" id="cb203-11" data-line-number="11"><span class="co">#&gt; 4 Afghanistan  1967 11537966 Asia         34.0      836.   1905662900 </span></a>
<a class="sourceLine" id="cb203-12" data-line-number="12"><span class="co">#&gt; 5 Afghanistan  1972 13079460 Asia         36.1      740.   2150972248 </span></a>
<a class="sourceLine" id="cb203-13" data-line-number="13"><span class="co">#&gt; 6 Afghanistan  1977 14880372 Asia         38.4      786.   2384513556 </span></a>
<a class="sourceLine" id="cb203-14" data-line-number="14"><span class="co">#&gt; # … with 1,698 more rows</span></a></code></pre></div>
</div>
<div id="challenge-3.-4" class="section level4 unnumbered">
<h4>Challenge 3.</h4>
<p>Use <code>dplyr</code> to: (a) add a column called <code>gdpPercap_diff</code> that contains the difference between the observation’s <code>gdpPercap</code> and the mean <code>gdpPercap</code> of the continent in that year, (b) arrange the dataframe by the column you just created, in descending order (so that the relatively richest country-years are listed first).</p>
<p><strong>hint</strong>: You might have to <code>ungroup()</code> before you <code>arrange()</code>.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1">gap <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">mean_gdpPercap =</span> <span class="kw">mean</span>(gdpPercap)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-4" data-line-number="4"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdpPercap_diff =</span> gdpPercap <span class="op">-</span><span class="st"> </span>mean_gdpPercap) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-6" data-line-number="6"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>mean_gdpPercap) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb204-7" data-line-number="7"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(gdpPercap_diff))</a>
<a class="sourceLine" id="cb204-8" data-line-number="8"><span class="co">#&gt; # A tibble: 1,704 x 7</span></a>
<a class="sourceLine" id="cb204-9" data-line-number="9"><span class="co">#&gt;   country  year     pop continent lifeExp gdpPercap gdpPercap_diff</span></a>
<a class="sourceLine" id="cb204-10" data-line-number="10"><span class="co">#&gt;   &lt;fct&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;fct&gt;       &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb204-11" data-line-number="11"><span class="co">#&gt; 1 Kuwait   1957  212846 Asia         58.0   113523.        107735.</span></a>
<a class="sourceLine" id="cb204-12" data-line-number="12"><span class="co">#&gt; 2 Kuwait   1952  160000 Asia         55.6   108382.        103187.</span></a>
<a class="sourceLine" id="cb204-13" data-line-number="13"><span class="co">#&gt; 3 Kuwait   1972  841934 Asia         67.7   109348.        101160.</span></a>
<a class="sourceLine" id="cb204-14" data-line-number="14"><span class="co">#&gt; 4 Kuwait   1962  358266 Asia         60.5    95458.         89729.</span></a>
<a class="sourceLine" id="cb204-15" data-line-number="15"><span class="co">#&gt; 5 Kuwait   1967  575003 Asia         64.6    80895.         74924.</span></a>
<a class="sourceLine" id="cb204-16" data-line-number="16"><span class="co">#&gt; 6 Kuwait   1977 1140357 Asia         69.3    59265.         51474.</span></a>
<a class="sourceLine" id="cb204-17" data-line-number="17"><span class="co">#&gt; # … with 1,698 more rows</span></a></code></pre></div>
</div>
<div id="acknowledgments-3" class="section level4 unnumbered">
<h4>Acknowledgments</h4>
<p>Some of these materials in this module were adapted from:</p>
<ul>
<li><a href="http://swcarpentry.github.io/r-novice-gapminder/">Software Carpentry</a>)</li>
<li><a href="https://github.com/berkeley-scf/r-bootcamp-fall-2019">R bootcamp at UC Berkeley</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="working-with-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidying-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rochelleterman/plsc-31101/edit/master/07-dplyr/07-1_dplyr.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["https://github.com/rochelleterman/plsc-31101/raw/master/07-dplyr/07-1_dplyr.Rmd"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
